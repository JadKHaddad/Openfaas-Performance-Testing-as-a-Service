(function(e){function t(t){for(var o,s,c=t[0],i=t[1],l=t[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ac02a":"aa668fa9","chunk-2d0d6d16":"fc35cc55","chunk-2d0e5e97":"45250df4","chunk-2d21080c":"64e07459","chunk-2d225f1e":"65744ef9","chunk-867ec04e":"0d065363","chunk-2d0a43a1":"7ce50632","chunk-2d0cf4e7":"9eb1c008"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=s(e);var l=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Info-Modal",id:"info-modal-button",ref:"infoModalButton"},r={class:"modal fade",id:"Info-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true",ref:"infoModal"},s={class:"modal-dialog"},c={class:"modal-content"},i={class:"modal-body info-message-container"},l={key:0},d={id:"info-error"},u={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Confirmation-Modal",id:"confirmation-modal-button",ref:"confirmationModalButton"},f={class:"modal fade",id:"Confirmation-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},p={class:"modal-dialog"},h={class:"modal-content"},m={class:"modal-body"},b=Object(o["h"])("h3",{id:"confirm-message"},null,-1),g={class:"modal-footer"};function O(e,t,n,O,j,v){var k=Object(o["A"])("NavBar"),y=Object(o["A"])("router-view"),U=Object(o["A"])("Footer");return Object(o["v"])(),Object(o["g"])("div",{class:Object(o["q"])({nr:j.noRedges,dark:j.darkTheme})},[Object(o["k"])(k,{runningTests:j.runningTests,openfaasUrl:j.openfaasUrl,direct:j.direct,noOpenfaas:j.noOpenfaas,functionName:j.functionName,minimizeTests:j.minimizeTests,darkTheme:j.darkTheme,noRedges:j.noRedges,rollBack:j.navBarRollBack,onDefault:v.setDefaults,onSettings:v.updateSettings,onRolledBack:v.setNavBarRollBack},null,8,["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges","rollBack","onDefault","onSettings","onRolledBack"]),Object(o["k"])(y,{url:j.url,openfaasUrl:j.openfaasUrl,oldOpenfaasUrl:j.oldOpenfaasUrl,socket:j.socket,minimizeTests:j.minimizeTests,update:j.update,mobileAgent:j.mobileAgent,onInfo:v.showInfo},null,8,["url","openfaasUrl","oldOpenfaasUrl","socket","minimizeTests","update","mobileAgent","onInfo"]),Object(o["h"])("div",null,[Object(o["h"])("button",a,null,512)]),Object(o["h"])("div",r,[Object(o["h"])("div",s,[Object(o["h"])("div",c,[Object(o["h"])("div",i,[Object(o["h"])("div",null,[Object(o["h"])("label",{id:"info-message",class:Object(o["q"])({green:"green"===j.infoColor,red:"red"===j.infoColor})},Object(o["C"])(j.infoMessage),3)]),j.infoError?(Object(o["v"])(),Object(o["g"])("div",l,[Object(o["h"])("label",d,Object(o["C"])(j.infoErrorText),1)])):Object(o["f"])("",!0)])])])],512),Object(o["h"])("div",null,[Object(o["h"])("button",u,null,512)]),Object(o["h"])("div",f,[Object(o["h"])("div",p,[Object(o["h"])("div",h,[Object(o["h"])("div",m,[b,Object(o["j"])(" "+Object(o["C"])(j.confirmMessage),1)]),Object(o["h"])("div",g,[Object(o["h"])("button",{type:"button",class:"btn btn-danger","data-mdb-dismiss":"modal",ref:"confirmBtn"},Object(o["C"])(j.confirmButtonText),513)])])])]),(Object(o["v"])(),Object(o["e"])(o["b"],{to:"#teleported"},[Object(o["h"])("div",{class:Object(o["q"])(["background-dark",{dark:j.darkTheme}])},null,2)])),(Object(o["v"])(),Object(o["e"])(o["b"],{to:"#teleported-footer"},[Object(o["k"])(U,{class:Object(o["q"])({dark:j.darkTheme,"bg-light":!j.darkTheme})},null,8,["class"])]))],2)}n("b0c0"),n("d3b7"),n("fb6a"),n("ac1f"),n("00b4"),n("159b");var j={class:"navbar navbar-expand-lg navbar-light bg-white fixed-top"},v={class:"container-fluid"},k=Object(o["h"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(o["h"])("i",{class:"fas fa-bars"})],-1),y={class:"collapse navbar-collapse",id:"navbarTop"},U={class:"navbar-nav me-auto mb-2 mb-lg-0"},T={class:"nav-item active"},S=Object(o["j"])("Home"),I={class:"nav-item active"},x=Object(o["j"])("Control"),N={class:"nav-item"},w=Object(o["j"])("License"),C=Object(o["h"])("li",{class:"nav-item"},[Object(o["h"])("a",{class:"nav-link","aria-current":"page",href:"https://github.com/JadKHaddad/Openfaas-Performance-Testing-as-a-Service"},"Source")],-1),P={class:"nav-item"},B=Object(o["j"])("OpenFaaS"),M={class:"nav-item"},_=Object(o["h"])("i",{class:"fas fa-cog",id:"gear"},null,-1),R={id:"url",style:{"font-weight":"bold"}},D={class:"modal fade",id:"Url-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},z={class:"modal-dialog"},E={class:"modal-content"},A={class:"modal-body"},J={class:"form-outline mb-4"},F=["disabled"],H=Object(o["h"])("label",{class:"form-label",for:"url-input"},"OpenFaaS url",-1),L={class:"form-check","data-mdb-toggle":"tooltip",title:"Can the brwoser connect to OpenFaas directly?"},q=["disabled"],V=Object(o["h"])("label",{class:"form-check-label",for:"direct-checkbox"}," Direct connection ",-1),W={class:"form-check","data-mdb-toggle":"tooltip",title:"No OpenFaaS-Server is being used"},G=Object(o["h"])("label",{class:"form-check-label",for:"no-openfaas-checkbox"}," No OpenFaaS ",-1),K={class:"form-check"},Q=Object(o["h"])("label",{class:"form-check-label",for:"dark-theme-checkbox"}," Dark theme ",-1),X={class:"form-check"},Y=Object(o["h"])("label",{class:"form-check-label",for:"i-do-not-like-rounded-edges-checkbox"}," I don't like rounded edges ",-1),Z={class:"form-check","data-mdb-toggle":"tooltip",title:"Tests will be minimized by default"},ee=Object(o["h"])("label",{class:"form-check-label",for:"minimized"}," Minimize tests ",-1),te={key:0,id:"url-message"},ne={class:"modal-footer"},oe={key:0,class:"spinner-border text-primary spinner",id:"url-spinner"},ae=["disabled"],re=["disabled"],se={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-url-modal-btn",ref:"dismissBtn"},ce=Object(o["h"])("div",null,[Object(o["h"])("button",{type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal",id:"url-modal-button"})],-1),ie={id:"server-stats"},le=Object(o["j"])(" Running tests: "),de={id:"running-tests-label"};function ue(e,t,n,a,r,s){var c=Object(o["A"])("router-link");return Object(o["v"])(),Object(o["g"])("div",null,[Object(o["h"])("header",null,[Object(o["h"])("nav",j,[Object(o["h"])("div",v,[k,Object(o["h"])("div",y,[Object(o["h"])("ul",U,[Object(o["h"])("li",T,[Object(o["k"])(c,{to:"/",class:"nav-link","aria-current":"page"},{default:Object(o["H"])((function(){return[S]})),_:1})]),Object(o["h"])("li",I,[Object(o["k"])(c,{to:"/control",class:"nav-link","aria-current":"page"},{default:Object(o["H"])((function(){return[x]})),_:1})]),Object(o["h"])("li",N,[Object(o["k"])(c,{to:"/license",class:"nav-link","aria-current":"page"},{default:Object(o["H"])((function(){return[w]})),_:1})]),C,Object(o["h"])("li",P,[Object(o["k"])(c,{to:"/openfaas",class:"nav-link","aria-current":"page"},{default:Object(o["H"])((function(){return[B]})),_:1})]),Object(o["h"])("li",M,[Object(o["h"])("a",{onClick:t[0]||(t[0]=function(){return s.setUp&&s.setUp.apply(s,arguments)}),class:"nav-link","aria-current":"page",id:"nav-url",href:"#","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal"},[_,Object(o["h"])("label",R,"  "+Object(o["C"])(n.openfaasUrl),1)])])])])])])]),Object(o["h"])("div",D,[Object(o["h"])("div",z,[Object(o["h"])("div",E,[Object(o["h"])("div",A,[Object(o["h"])("form",null,[Object(o["h"])("div",J,[Object(o["I"])(Object(o["h"])("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tempOpenfaasUrl=e}),disabled:r.tempNoOpenfaas},null,8,F),[[o["F"],r.tempOpenfaasUrl]]),H]),Object(o["h"])("div",L,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"direct-checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tempDirect=e}),disabled:r.tempNoOpenfaas},null,8,q),[[o["E"],r.tempDirect]]),V]),Object(o["h"])("div",W,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"no-openfaas-checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.tempNoOpenfaas=e})},null,512),[[o["E"],r.tempNoOpenfaas]]),G]),Object(o["h"])("div",K,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"dark-theme-checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.tempDarkTheme=e})},null,512),[[o["E"],r.tempDarkTheme]]),Q]),Object(o["h"])("div",X,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"i-do-not-like-rounded-edges-checkbox","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.tempNoRedges=e})},null,512),[[o["E"],r.tempNoRedges]]),Y]),Object(o["h"])("div",Z,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"minimized","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.tempMinimizeTests=e})},null,512),[[o["E"],r.tempMinimizeTests]]),ee]),Object(o["h"])("div",null,[r.error?(Object(o["v"])(),Object(o["g"])("label",te,"Could not connect to openfaas")):Object(o["f"])("",!0)])])]),Object(o["h"])("div",ne,[r.loading?(Object(o["v"])(),Object(o["g"])("div",oe)):Object(o["f"])("",!0),Object(o["h"])("button",{type:"button",class:"btn btn-danger",id:"restore-defaults-btn",onClick:t[7]||(t[7]=function(){return s.restoreDefault&&s.restoreDefault.apply(s,arguments)}),disabled:r.loading}," Restore defaults ",8,ae),Object(o["h"])("button",{type:"button",class:"btn btn-primary",id:"set-url-btn",onClick:t[8]||(t[8]=function(){return s.ok&&s.ok.apply(s,arguments)}),disabled:r.loading}," Ok ",8,re)]),Object(o["h"])("button",se,null,512)])])]),ce,Object(o["h"])("div",ie,[le,Object(o["h"])("label",de,Object(o["C"])(n.runningTests),1)])])}n("e9c4");var fe={name:"NavBar",props:["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges","rollBack"],data:function(){return{tempOpenfaasUrl:"None",tempDirect:null,tempNoOpenfaas:null,tempDarkTheme:null,tempNoRedges:null,tempMinimizeTests:null,loading:!1,error:!1}},methods:{setUp:function(){this.noOpenfaas||(this.tempOpenfaasUrl=this.openfaasUrl),this.tempDirect=this.direct,this.tempNoOpenfaas=this.noOpenfaas,this.tempDarkTheme=this.darkTheme,this.tempNoRedges=this.noRedges,this.tempMinimizeTests=this.minimizeTests,this.error=!1},restoreDefault:function(){var e=this;this.loading=!0,this.error=!1,fetch("/defaults",{method:"POST"}).then((function(e){return e.json()})).then((function(t){if(t.openfaas_url){e.tempNoOpenfaas=!1;var n=t.openfaas_url;"/"==n.slice(-1)&&(n=n.slice(0,-1));var o="".concat(n,"/function/ptas");t.direct||(o="/proxy")}else n="None",o="/local",e.tempNoOpenfaas=!0;e.tempDirect=t.direct,e.loading=!1;var a={baseUrl:o,openfaasUrl:n,direct:e.tempDirect,noOpenfaas:e.tempNoOpenfaas};e.$refs.dismissBtn.click(),e.$emit("default",a)})).catch((function(){e.$refs.dismissBtn.click(),e.loading=!1,e.error=!0}))},ok:function(){var e=this,t=function(t,n){var o={baseUrl:n,openfaasUrl:t,direct:e.tempDirect,noOpenfaas:e.tempNoOpenfaas,darkTheme:e.tempDarkTheme,noRedges:e.tempNoRedges,minimizeTests:e.tempMinimizeTests};e.loading=!1,e.error=!1,e.$refs.dismissBtn.click(),e.$emit("settings",o)};if(this.tempNoOpenfaas)t("None","/local");else{var n=this.tempOpenfaasUrl;-1==n.indexOf("http://")&&-1==n.indexOf("https://")&&""!=n&&(n="http://"+n),this.loading=!0,this.error=!1,fetch("/check_connection",{method:"POST",body:JSON.stringify({url:n})}).then((function(e){return e.json()})).then((function(o){if(o.success){"/"==n.slice(-1)&&(n=n.slice(0,-1));var a="".concat(n,"/function/ptas");e.tempDirect||(a="/proxy"),t(n,a)}else e.loading=!1,e.error=!0})).catch((function(){e.loading=!1,e.$root.showInfo("Could not connect to server","red")}))}}},updated:function(){this.rollBack&&($("#gear").animateRotate(-180),$("*").off(".myEvents"),this.$emit("rolledBack"))},created:function(){this.setUp()},mounted:function(){$.fn.animateRotate=function(e,t,n,o){var a=$.speed(t,n,o),r=a.step;return this.each((function(t,n){a.complete=$.proxy(a.complete,n),a.step=function(e){if($.style(n,"transform","rotate("+e+"deg)"),r)return r.apply(n,arguments)},$({deg:0}).animate({deg:e},a)}))},$("#nav-url").on("click",(function(){return $("#gear").animateRotate(180),$("*").bind("click.myEvents",(function(e){e.currentTarget==$("#Url-Modal")[0]&&($("#gear").animateRotate(-180),$("*").off(".myEvents")),e.stopPropagation()})),!1}))}},pe=n("6b0d"),he=n.n(pe);const me=he()(fe,[["render",ue]]);var be=me,ge={class:"text-center text-white footer"},Oe=Object(o["h"])("div",{class:"text-center p-3",style:{"background-color":"rgba(0, 0, 0, 0.2)"}},[Object(o["h"])("a",{class:"text-white",href:"https://www.uni-muenster.de/"},"Westfälische Wilhelms-Universität Münster"),Object(o["j"])("   |   "),Object(o["h"])("a",{class:"text-white",href:"https://www.gselectronic.com/"},"GS Electronic")],-1),je=[Oe];function ve(e,t,n,a,r,s){return Object(o["v"])(),Object(o["g"])("footer",ge,je)}var ke={};const ye=he()(ke,[["render",ve]]);var Ue=ye,Te={name:"App",components:{NavBar:be,Footer:Ue},data:function(){return{openfaasUrl:"None",oldOpenfaasUrl:"None",direct:!0,noOpenfaas:!0,functionName:"ptas",darkTheme:!1,noRedges:!1,minimizeTests:!1,update:!1,url:"/local",runningTests:0,socket:null,infoMessage:"",infoColor:"green",infoError:!0,infoErrorText:"",confirmMessage:"",confirmButtonText:"confirm",navBarRollBack:!1,mobileAgent:!1}},methods:{disconnect:function(){this.socket.off(this.openfaasUrl),console.log("disconnected from: "+this.openfaasUrl)},register:function(){var e=this;this.socket.emit("register",{openfaasurl:this.openfaasUrl}),this.socket.on(this.openfaasUrl,(function(t){IsJsonString(t)&&(t=JSON.parse(t),t.success&&(e.runningTests=t.count))})),this.socket.on(this.openfaasUrl+"_clean_up",(function(t){"Project"!==e.$route.name&&"Script"!==e.$route.name||(e.$router.push({name:"Home"}),e.showInfo("All projects deleted","green"))})),console.log("connected to: "+this.openfaasUrl)},configureConnections:function(){var e=this;this.socket=io(""),this.socket.on("connect",(function(){return e.register()})),console.log("current openfaasUrl: "+this.openfaasUrl),console.log("current baseUrl: "+this.url)},showInfo:function(e,t,n){this.infoMessage=e,this.infoColor=t,null!=n&&"None"!=n?(this.infoError=!0,this.infoErrorText=n):this.infoError=!1,$(this.$refs.infoModal).hasClass("show")||$(this.$refs.infoModalButton).click()},setUpConfirmation:function(e,t,n){this.confirmMessage=e,this.confirmButtonText=t,$(this.$refs.confirmBtn).off("click").on("click",n),$(this.$refs.confirmationModalButton).click()},updateSettings:function(e){this.disconnect(),this.url=e.baseUrl,this.openfaasUrl=e.openfaasUrl,this.direct=e.direct,this.noOpenfaas=e.noOpenfaas,this.darkTheme=e.darkTheme,this.noRedges=e.noRedges,this.minimizeTests=e.minimizeTests,localStorage.setItem("url",this.url),localStorage.setItem("openfaasUrl",this.openfaasUrl),localStorage.setItem("direct",this.direct),localStorage.setItem("noOpenfaas",this.noOpenfaas),localStorage.setItem("darkTheme",this.darkTheme),localStorage.setItem("noRedges",this.noRedges),localStorage.setItem("minimizeTests",this.minimizeTests),this.oldOpenfaasUrl=this.openfaasUrl,this.update=!0,this.register(),this.navBarRollBack=!0,console.log("new openfaasUrl: "+this.openfaasUrl),console.log("new baseUrl: "+this.url)},updated:function(){this.update=!1},setDefaults:function(e){this.disconnect(),this.url=e.baseUrl,this.openfaasUrl=e.openfaasUrl,this.direct=e.direct,this.noOpenfaas=e.noOpenfaas,localStorage.setItem("url",this.url),localStorage.setItem("openfaasUrl",this.openfaasUrl),localStorage.setItem("direct",this.direct),localStorage.setItem("noOpenfaas",this.noOpenfaas),this.update=!0,this.oldOpenfaasUrl=this.openfaasUrl,this.register(),this.navBarRollBack=!0,console.log("default openfaasUrl: "+this.openfaasUrl),console.log("default baseUrl: "+this.url)},setNavBarRollBack:function(){this.navBarRollBack=!1}},created:function(){var e=this;localStorage.getItem("url")&&(this.url=localStorage.getItem("url")),localStorage.getItem("openfaasUrl")&&(this.openfaasUrl=localStorage.getItem("openfaasUrl")),localStorage.getItem("direct")&&(this.direct=JSON.parse(localStorage.getItem("direct"))),localStorage.getItem("noOpenfaas")&&(this.noOpenfaas=JSON.parse(localStorage.getItem("noOpenfaas"))),localStorage.getItem("darkTheme")&&(this.darkTheme=JSON.parse(localStorage.getItem("darkTheme"))),localStorage.getItem("noRedges")&&(this.noRedges=JSON.parse(localStorage.getItem("noRedges"))),localStorage.getItem("minimizeTests")&&(this.minimizeTests=JSON.parse(localStorage.getItem("minimizeTests"))),localStorage.getItem("url")&&localStorage.getItem("openfaasUrl")&&localStorage.getItem("direct")||(console.log("no saved data found. restoring defaults.."),fetch("/defaults",{method:"POST"}).then((function(e){return e.json()})).then((function(t){if(t.openfaas_url){e.tempNoOpenfaas=!1;var n=t.openfaas_url;"/"==n.slice(-1)&&(n=n.slice(0,-1));var o="".concat(n,"/function/ptas");t.direct||(o="/proxy")}else n="None",o="/local",e.tempNoOpenfaas=!0;e.tempDirect=t.direct,e.loading=!1;var a={baseUrl:o,openfaasUrl:n,direct:e.tempDirect,noOpenfaas:e.tempNoOpenfaas};e.setDefaults(a)})).catch((function(){e.showInfo("Could not connect to server","red")}))),this.mobileAgent=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)},mounted:function(){document.querySelectorAll(".form-outline").forEach((function(e){new mdb.Input(e).init()})),this.configureConnections()}};const Se=he()(Te,[["render",O]]);var Ie=Se,xe=(n("3ca3"),n("ddb0"),n("6c02")),Ne={class:"btn-container"},$e=["disabled"],we=["disabled"],Ce={class:"list-group"},Pe=["onClick"],Be={class:"form-check"},Me=["value","id"],_e={class:"test-label"},Re={key:0},De=["value"],ze={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},Ee={class:"modal-dialog"},Ae={class:"modal-content"},Je=Object(o["h"])("div",{class:"modal-header"},[Object(o["h"])("h5",{class:"modal-title",id:"ModalLabel"},"Add a new Project")],-1),Fe={class:"modal-body"},He={class:"form-outline mb-4"},Le={type:"file",webkitdirectory:"",mozdirectory:"",id:"project-input",ref:"files"},qe={key:0},Ve={class:"upload-message"},We=["value"],Ge={key:1,class:"upload-message"},Ke={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismissBtn"},Qe={key:1},Xe=Object(o["h"])("div",{class:"btn-container"},[Object(o["h"])("div",{class:"spinner-border text-primary spinner",id:"spinner"})],-1);function Ye(e,t,n,a,r,s){var c=Object(o["A"])("router-link");return Object(o["v"])(),Object(o["g"])("div",null,[Object(o["h"])("div",Ne,[Object(o["h"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal",id:"add-btn-Modal",disabled:r.loading}," Add a new project ",8,$e),Object(o["h"])("button",{type:"button",class:"btn btn-danger",id:"delete-project",disabled:!s.enableDelete,onClick:t[0]||(t[0]=function(){return s.deleteProjects&&s.deleteProjects.apply(s,arguments)})}," Delete ",8,we)]),Object(o["h"])("div",Ce,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["z"])(r.projects,(function(e){return Object(o["v"])(),Object(o["g"])("a",{key:e,class:"list-group-item list-group-item-action",onClick:function(t){return s.navigateToProject(e)}},[Object(o["h"])("div",Be,[Object(o["I"])(Object(o["h"])("input",{class:"form-check-input",type:"checkbox",value:e,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.markedProjects=e}),id:e,onClick:t[2]||(t[2]=Object(o["J"])((function(){return s.stopTheEvent&&s.stopTheEvent.apply(s,arguments)}),["stop"]))},null,8,Me),[[o["E"],r.markedProjects]]),Object(o["k"])(c,{to:{name:"Project",params:{id:e}}},{default:Object(o["H"])((function(){return[Object(o["h"])("label",_e,Object(o["C"])(e),1)]})),_:2},1032,["to"])])],8,Pe)})),128))]),r.uploading?(Object(o["v"])(),Object(o["g"])("div",Re,[Object(o["h"])("progress",{value:r.percentCompleted,max:"100"},null,8,De)])):Object(o["f"])("",!0),Object(o["h"])("div",ze,[Object(o["h"])("div",Ee,[Object(o["h"])("div",Ae,[Je,Object(o["h"])("div",Fe,[Object(o["h"])("form",null,[Object(o["h"])("div",He,[Object(o["h"])("input",Le,null,512)]),r.uploading?(Object(o["v"])(),Object(o["g"])("div",qe,[Object(o["h"])("div",Ve," Uploading project: "+Object(o["C"])(r.percentCompleted)+"% ",1),Object(o["h"])("progress",{value:r.percentCompleted,max:"100"},null,8,We)])):Object(o["f"])("",!0),r.uploading?Object(o["f"])("",!0):(Object(o["v"])(),Object(o["g"])("div",Ge," Please make sure all names don't include blank spaces ")),r.uploading?Object(o["f"])("",!0):(Object(o["v"])(),Object(o["g"])("button",{key:2,type:"button",class:"btn btn-primary btn-block",id:"add-btn",onClick:t[3]||(t[3]=function(){return s.upload&&s.upload.apply(s,arguments)})}," Add "))]),Object(o["h"])("button",Ke,null,512)])])])]),r.loading?(Object(o["v"])(),Object(o["g"])("div",Qe,[Object(o["h"])("h5",null,"Installing project: "+Object(o["C"])(r.projectId),1),Xe])):Object(o["f"])("",!0)])}n("4de4"),n("caad"),n("2532");var Ze={name:"Home",props:["url","openfaasUrl","socket","update"],data:function(){return{projects:[],loading:!1,files:null,socketIntv:null,markedProjects:[],projectId:"",uploading:!1,percentCompleted:0}},methods:{init:function(){var e=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:3})}).then((function(e){return e.json()})).then((function(t){t.success?(e.loading=!1,e.projects=t.projects):e.$emit("info","Could not connect to server","red")})).catch((function(){e.$emit("info","Could not connect to server","red")})),this.socket.on(this.openfaasUrl+"_project_upload",(function(t){e.projects.push(t)})),this.socket.on(this.openfaasUrl+"_project_delete",(function(t){e.projects=e.projects.filter((function(e){return!t.includes(e)}))}))},upload:function(){var e=this,t=this.$refs.files.files;if(t.length<1)return this.$emit("info","Please select a directory to upload","red"),!1;for(var n=new FormData,o=0;o<t.length;o++)n.append("file"+o,t[o]);return this.uploading=!0,axios.request({method:"post",url:this.url,data:n,onUploadProgress:function(t){e.percentCompleted=Math.round(100*t.loaded/t.total)}}).then((function(t){var n=t.data;e.uploading=!1,e.$refs.dismissBtn.click(),n.success?(e.loading=!0,e.projectId=n.task_id,e.socketIntv=setInterval((function(){e.socket.emit("task_stats",{project_name:e.projectId,openfaasurl:e.openfaasUrl})}),1e3),e.socket.on(e.projectId,(function(t){var n=JSON.parse(t.data);n.success?3===n.status_code||2===n.status_code||(1===n.status_code?(clearInterval(e.socketIntv),e.loading=!1,e.$emit("info","Installation failed","red",n.error)):(clearInterval(e.socketIntv),e.$router.push({name:"Project",params:{id:e.projectId}}),e.socket.emit("project_upload",{openfaasurl:e.openfaasUrl,project_name:e.projectId}))):(e.loading=!1,e.$emit("info","Something went wrong","red"),clearInterval(e.socketIntv))}))):(e.uploading=!1,e.loading=!1,e.percentCompleted=0,e.$emit("info",n.message,"red"))})).catch((function(){e.$refs.dismissBtn.click(),e.uploading=!1,e.loading=!1,e.percentCompleted=0,e.$emit("info","Something went wrong","red")})),!1},deleteProjects:function(){var e=this;this.$root.setUpConfirmation("Are you sure you want to delete these projects?","Delete",(function(){return fetch(e.url,{method:"POST",body:JSON.stringify({command:10,names:e.markedProjects})}).then((function(e){return e.json()})).then((function(t){t.success?(e.socket.emit("project_delete",{openfaasurl:e.openfaasUrl,project_names:e.markedProjects}),e.projects=e.projects.filter((function(t){return!e.markedProjects.includes(t)})),e.markedProjects=[]):e.$emit("info",t.message,"red")})).catch((function(){e.$emit("info","Could not connect to server","red")})),!1}))},navigateToProject:function(e){this.$router.push({name:"Project",params:{id:e}})},freeSocket:function(){this.socket.off(this.projectId),this.socket.off(this.openfaasUrl+"_project_upload"),this.socket.off(this.openfaasUrl+"_project_delete"),this.socketIntv&&clearInterval(this.socketIntv)},stopTheEvent:function(e){e.stopPropagation()}},computed:{enableDelete:function(){return this.markedProjects.length>0}},beforeUnmount:function(){this.freeSocket()},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.freeSocket(),this.$root.updated())}};const et=he()(Ze,[["render",Ye]]);var tt=et,nt=[{path:"/",name:"Home",component:tt},{path:"/control",name:"Control",component:function(){return Promise.all([n.e("chunk-867ec04e"),n.e("chunk-2d0a43a1")]).then(n.bind(null,"0616"))}},{path:"/openfaas",name:"Openfaas",component:function(){return n.e("chunk-2d0d6d16").then(n.bind(null,"73bf"))}},{path:"/license",name:"License",component:function(){return n.e("chunk-2d225f1e").then(n.bind(null,"e70f"))}},{path:"/project/:id",name:"Project",component:function(){return n.e("chunk-2d21080c").then(n.bind(null,"b7bc"))},props:!0},{path:"/project/:pid/:id",name:"Script",component:function(){return Promise.all([n.e("chunk-867ec04e"),n.e("chunk-2d0cf4e7")]).then(n.bind(null,"62c8"))},props:!0},{path:"/egg",name:"Egg",component:function(){return n.e("chunk-2d0ac02a").then(n.bind(null,"185b"))}},{path:"/:catchAll(.*)",name:"NotFound",component:function(){return n.e("chunk-2d0e5e97").then(n.bind(null,"9703"))}}],ot=Object(xe["a"])({history:Object(xe["b"])("/"),routes:nt}),at=ot;Object(o["d"])(Ie).use(at).mount("#app")}});
//# sourceMappingURL=app.8c13e5b5.js.map