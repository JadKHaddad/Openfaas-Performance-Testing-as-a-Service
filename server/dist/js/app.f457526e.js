(function(t){function e(e){for(var s,i,c=e[0],r=e[1],l=e[2],u=0,h=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},a=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),o={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Info-Modal",id:"info-modal-button",ref:"infoModalButton"},a={class:"modal fade",id:"Info-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true",ref:"infoModal"},i={class:"modal-dialog"},c={class:"modal-content"},r={class:"modal-body info-message-container"},l={key:0},d={id:"info-error"},u={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Confirmation-Modal",id:"confirmation-modal-button",ref:"confirmationModalButton"},h={class:"modal fade",id:"Confirmation-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},f={class:"modal-dialog"},b={class:"modal-content"},m={class:"modal-body"},p=Object(s["h"])("h3",{id:"confirm-message"},null,-1),O={class:"modal-footer"},g=Object(s["h"])("div",{class:"background-dark"},null,-1);function j(t,e,n,j,v,k){var y=Object(s["A"])("NavBar"),I=Object(s["A"])("router-view"),T=Object(s["A"])("Footer");return Object(s["v"])(),Object(s["g"])("div",{class:Object(s["q"])({nr:v.noRedges,dark:v.darkTheme})},[Object(s["k"])(y,{runningTests:v.runningTests,openfaasUrl:v.openfaasUrl,direct:v.direct,noOpenfaas:v.noOpenfaas,functionName:v.functionName,minimizeTests:v.minimizeTests,darkTheme:v.darkTheme,noRedges:v.noRedges,onDefault:k.setDefaults,onSettings:k.updateSettings},null,8,["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges","onDefault","onSettings"]),Object(s["k"])(I,{url:v.url,openfaasUrl:v.openfaasUrl,socket:v.socket,minimizeTests:v.minimizeTests,update:v.update,onInfo:k.showInfo},null,8,["url","openfaasUrl","socket","minimizeTests","update","onInfo"]),Object(s["h"])("div",null,[Object(s["h"])("button",o,null,512)]),Object(s["h"])("div",a,[Object(s["h"])("div",i,[Object(s["h"])("div",c,[Object(s["h"])("div",r,[Object(s["h"])("div",null,[Object(s["h"])("label",{id:"info-message",class:Object(s["q"])({green:"green"===v.infoColor,red:"red"===v.infoColor})},Object(s["C"])(v.infoMessage),3)]),v.infoError?(Object(s["v"])(),Object(s["g"])("div",l,[Object(s["h"])("label",d,Object(s["C"])(v.infoErrorText),1)])):Object(s["f"])("",!0)])])])],512),Object(s["h"])("div",null,[Object(s["h"])("button",u,null,512)]),Object(s["h"])("div",h,[Object(s["h"])("div",f,[Object(s["h"])("div",b,[Object(s["h"])("div",m,[p,Object(s["j"])(" "+Object(s["C"])(v.confirmMessage),1)]),Object(s["h"])("div",O,[Object(s["h"])("button",{type:"button",class:"btn btn-danger","data-mdb-dismiss":"modal",ref:"confirmBtn"},Object(s["C"])(v.confirmButtonText),513)])])])]),v.darkTheme?(Object(s["v"])(),Object(s["e"])(s["b"],{key:0,to:"#teleported"},[g])):Object(s["f"])("",!0),(Object(s["v"])(),Object(s["e"])(s["b"],{to:"#teleported-footer"},[Object(s["k"])(T,{class:Object(s["q"])({dark:v.darkTheme,"bg-light":!v.darkTheme})},null,8,["class"])]))],2)}n("d3b7"),n("159b");var v={class:"navbar navbar-expand-lg navbar-light bg-white fixed-top"},k={class:"container-fluid"},y=Object(s["h"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(s["h"])("i",{class:"fas fa-bars"})],-1),I={class:"collapse navbar-collapse",id:"navbarTop"},T={class:"navbar-nav me-auto mb-2 mb-lg-0"},S={class:"nav-item active"},w=Object(s["j"])("Home"),C={class:"nav-item active"},U=Object(s["j"])("Control"),R={class:"nav-item"},N=Object(s["j"])("License"),_=Object(s["h"])("li",{class:"nav-item"},[Object(s["h"])("a",{class:"nav-link","aria-current":"page",href:"https://github.com/JadKHaddad/Openfaas-Performance-Testing-as-a-Service"},"Source")],-1),x={class:"nav-item"},P=Object(s["j"])("OpenFaaS"),M={class:"nav-item"},z=Object(s["h"])("i",{class:"fas fa-cog",id:"gear"},null,-1),D={id:"url",style:{"font-weight":"bold"}},A={class:"modal fade",id:"Url-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},E={class:"modal-dialog"},J={class:"modal-content"},F={class:"modal-body"},L={class:"form-outline mb-4"},H=["disabled"],B=Object(s["h"])("label",{class:"form-label",for:"url-input"},"OpenFaaS url",-1),V={class:"form-check","data-mdb-toggle":"tooltip",title:"Can the brwoser connect to OpenFaas directly?"},W=["disabled"],q=Object(s["h"])("label",{class:"form-check-label",for:"direct-checkbox"}," Direct connection ",-1),G={class:"form-check","data-mdb-toggle":"tooltip",title:"No OpenFaaS-Server is being used"},K=Object(s["h"])("label",{class:"form-check-label",for:"no-openfaas-checkbox"}," No OpenFaaS ",-1),Y={class:"form-check"},X=Object(s["h"])("label",{class:"form-check-label",for:"dark-theme-checkbox"}," Dark theme ",-1),Q={class:"form-check"},Z=Object(s["h"])("label",{class:"form-check-label",for:"i-do-not-like-rounded-edges-checkbox"}," I don't like rounded edges ",-1),tt={class:"form-check","data-mdb-toggle":"tooltip",title:"Tests will be minimized by default"},et=Object(s["h"])("label",{class:"form-check-label",for:"minimized"}," Minimize tests ",-1),nt={key:0,id:"url-message"},st={class:"modal-footer"},ot={key:0,class:"spinner-border text-primary spinner",id:"url-spinner"},at=["disabled"],it=["disabled"],ct={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-url-modal-btn",ref:"dismissBtn"},rt=Object(s["h"])("div",null,[Object(s["h"])("button",{type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal",id:"url-modal-button"})],-1),lt={id:"server-stats"},dt=Object(s["j"])(" Running tests: "),ut={id:"running-tests-label"};function ht(t,e,n,o,a,i){var c=Object(s["A"])("router-link");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("header",null,[Object(s["h"])("nav",v,[Object(s["h"])("div",k,[y,Object(s["h"])("div",I,[Object(s["h"])("ul",T,[Object(s["h"])("li",S,[Object(s["k"])(c,{to:"/",class:"nav-link","aria-current":"page"},{default:Object(s["H"])((function(){return[w]})),_:1})]),Object(s["h"])("li",C,[Object(s["k"])(c,{to:"/control",class:"nav-link","aria-current":"page"},{default:Object(s["H"])((function(){return[U]})),_:1})]),Object(s["h"])("li",R,[Object(s["k"])(c,{to:"/license",class:"nav-link","aria-current":"page"},{default:Object(s["H"])((function(){return[N]})),_:1})]),_,Object(s["h"])("li",x,[Object(s["k"])(c,{to:"/openfaas",class:"nav-link","aria-current":"page"},{default:Object(s["H"])((function(){return[P]})),_:1})]),Object(s["h"])("li",M,[Object(s["h"])("a",{onClick:e[0]||(e[0]=function(){return i.setUp&&i.setUp.apply(i,arguments)}),class:"nav-link","aria-current":"page",id:"nav-url",href:"#","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal"},[z,Object(s["h"])("label",D,"  "+Object(s["C"])(n.openfaasUrl),1)])])])])])])]),Object(s["h"])("div",A,[Object(s["h"])("div",E,[Object(s["h"])("div",J,[Object(s["h"])("div",F,[Object(s["h"])("form",null,[Object(s["h"])("div",L,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.tempOpenfaasUrl=t}),disabled:a.tempNoOpenfaas},null,8,H),[[s["F"],a.tempOpenfaasUrl]]),B]),Object(s["h"])("div",V,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"direct-checkbox","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.tempDirect=t}),disabled:a.tempNoOpenfaas},null,8,W),[[s["E"],a.tempDirect]]),q]),Object(s["h"])("div",G,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"no-openfaas-checkbox","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.tempNoOpenfaas=t})},null,512),[[s["E"],a.tempNoOpenfaas]]),K]),Object(s["h"])("div",Y,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"dark-theme-checkbox","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.tempDarkTheme=t})},null,512),[[s["E"],a.tempDarkTheme]]),X]),Object(s["h"])("div",Q,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"i-do-not-like-rounded-edges-checkbox","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.tempNoRedges=t})},null,512),[[s["E"],a.tempNoRedges]]),Z]),Object(s["h"])("div",tt,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"minimized","onUpdate:modelValue":e[6]||(e[6]=function(t){return a.tempMinimizeTests=t})},null,512),[[s["E"],a.tempMinimizeTests]]),et]),Object(s["h"])("div",null,[a.error?(Object(s["v"])(),Object(s["g"])("label",nt,"Could not connect to openfaas")):Object(s["f"])("",!0)])])]),Object(s["h"])("div",st,[a.loading?(Object(s["v"])(),Object(s["g"])("div",ot)):Object(s["f"])("",!0),Object(s["h"])("button",{type:"button",class:"btn btn-danger",id:"restore-defaults-btn",onClick:e[7]||(e[7]=function(){return i.restoreDefault&&i.restoreDefault.apply(i,arguments)}),disabled:a.loading}," Restore defaults ",8,at),Object(s["h"])("button",{type:"button",class:"btn btn-primary",id:"set-url-btn",onClick:e[8]||(e[8]=function(){return i.ok&&i.ok.apply(i,arguments)}),disabled:a.loading}," Ok ",8,it)]),Object(s["h"])("button",ct,null,512)])])]),rt,Object(s["h"])("div",lt,[dt,Object(s["h"])("label",ut,Object(s["C"])(n.runningTests),1)])])}n("ac1f"),n("5319"),n("e9c4"),n("fb6a");var ft={name:"NavBar",props:["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges"],data:function(){return{tempOpenfaasUrl:"None",tempDirect:null,tempNoOpenfaas:null,tempDarkTheme:null,tempNoRedges:null,tempMinimizeTests:null,loading:!1,error:!1}},methods:{setUp:function(){this.noOpenfaas||(this.tempOpenfaasUrl=this.openfaasUrl),this.tempDirect=this.direct,this.tempNoOpenfaas=this.noOpenfaas,this.tempDarkTheme=this.darkTheme,this.tempNoRedges=this.noRedges,this.tempMinimizeTests=this.minimizeTests,this.error=!1},restoreDefault:function(){var t=this;this.loading=!0,this.error=!1,fetch("/defaults",{method:"POST"}).then((function(t){return t.json()})).then((function(e){if(e.openfaas_url){t.tempNoOpenfaas=!1;var n=e.openfaas_url,s="".concat(n,"/function/ptas");e.direct||(s="/proxy")}else n="None",s="/local",t.tempNoOpenfaas=!0;t.tempDirect=e.direct,t.loading=!1;var o={baseUrl:s,openfaasUrl:n,direct:t.tempDirect,noOpenfaas:t.tempNoOpenfaas};t.$refs.dismissBtn.click(),t.$emit("default",o)})).catch((function(){t.$refs.dismissBtn.click(),t.loading=!1,t.error=!0}))},ok:function(){var t=this,e=function(e,n){var s={baseUrl:n,openfaasUrl:e,direct:t.tempDirect,noOpenfaas:t.tempNoOpenfaas,darkTheme:t.tempDarkTheme,noRedges:t.tempNoRedges,minimizeTests:t.tempMinimizeTests};t.loading=!1,t.error=!1,t.$refs.dismissBtn.click(),t.$emit("settings",s)};if(this.tempNoOpenfaas)e("None","/local");else{var n=this.tempOpenfaasUrl;n=n.replace("http://","").replace("https://",""),n="http://"+n,this.loading=!0,this.error=!1,fetch("/check_connection",{method:"POST",body:JSON.stringify({url:n})}).then((function(t){return t.json()})).then((function(s){if(s.success){"/"==n.slice(-1)&&(n=n.slice(0,-1));var o="".concat(n,"/function/ptas");t.tempDirect||(o="/proxy"),e(n,o)}else t.loading=!1,t.error=!0})).catch((function(){t.loading=!1,t.$root.showInfo("Could not connect to server","red")}))}}},created:function(){this.setUp()},mounted:function(){$.fn.animateRotate=function(t,e,n,s){var o=$.speed(e,n,s),a=o.step;return this.each((function(e,n){o.complete=$.proxy(o.complete,n),o.step=function(t){if($.style(n,"transform","rotate("+t+"deg)"),a)return a.apply(n,arguments)},$({deg:0}).animate({deg:t},o)}))},$("#nav-url").on("click",(function(){return $("#gear").animateRotate(180),$("*").bind("click.myEvents",(function(t){t.currentTarget==$("#Url-Modal")[0]&&($("#gear").animateRotate(-180),$("*").off(".myEvents")),t.stopPropagation()})),!1}))}},bt=n("6b0d"),mt=n.n(bt);const pt=mt()(ft,[["render",ht]]);var Ot=pt,gt={class:"text-center text-white footer"},jt=Object(s["h"])("div",{class:"text-center p-3",style:{"background-color":"rgba(0, 0, 0, 0.2)"}},[Object(s["h"])("a",{class:"text-white",href:"https://www.uni-muenster.de/"},"Westfälische Wilhelms-Universität Münster"),Object(s["j"])("   |   "),Object(s["h"])("a",{class:"text-white",href:"https://www.gselectronic.com/"},"GS Electronic")],-1),vt=[jt];function kt(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("footer",gt,vt)}var yt={};const It=mt()(yt,[["render",kt]]);var Tt=It,St={name:"App",components:{NavBar:Ot,Footer:Tt},data:function(){return{openfaasUrl:"None",direct:!0,noOpenfaas:!0,functionName:"ptas",darkTheme:!1,noRedges:!1,minimizeTests:!1,update:!1,url:"/local",runningTests:0,socket:null,socketIntv:null,infoMessage:"info",infoColor:"green",infoError:!0,infoErrorText:"error",confirmMessage:"confirm",confirmButtonText:"confirm"}},methods:{configureConnections:function(){var t=this;this.socket=io(""),this.socketIntv=setInterval((function(){t.socket.emit("server_stats",{openfaasurl:t.openfaasUrl})}),1e3),this.socket.on("server_stats",(function(e){var n=JSON.parse(e.data);n.success?t.runningTests=n.count:(clearInterval(t.socketIntv),t.runningTests=0)}))},showInfo:function(t,e,n){this.infoMessage=t,this.infoColor=e,null!=n&&"None"!=n?(this.infoError=!0,this.infoErrorText=n):this.infoError=!1,$(this.$refs.infoModal).hasClass("show")||$(this.$refs.infoModalButton).click()},setUpConfirmation:function(t,e,n){this.confirmMessage=t,this.confirmButtonText=e,$(this.$refs.confirmBtn).off("click").on("click",n),$(this.$refs.confirmationModalButton).click()},updateSettings:function(t){this.url=t.baseUrl,this.openfaasUrl=t.openfaasUrl,this.direct=t.direct,this.noOpenfaas=t.noOpenfaas,this.darkTheme=t.darkTheme,this.noRedges=t.noRedges,this.minimizeTests=t.minimizeTests,localStorage.setItem("url",this.url),localStorage.setItem("openfaasUrl",this.openfaasUrl),localStorage.setItem("direct",this.direct),localStorage.setItem("noOpenfaas",this.noOpenfaas),localStorage.setItem("darkTheme",this.darkTheme),localStorage.setItem("noRedges",this.noRedges),localStorage.setItem("minimizeTests",this.minimizeTests),this.update=!0,console.log("new openfaasUrl: "+this.openfaasUrl),console.log("new baseUrl: "+this.url)},updated:function(){console.log("updated"),this.update=!1},setDefaults:function(t){this.url=t.baseUrl,this.openfaasUrl=t.openfaasUrl,this.direct=t.direct,this.noOpenfaas=t.noOpenfaas,localStorage.setItem("url",this.url),localStorage.setItem("openfaasUrl",this.openfaasUrl),localStorage.setItem("direct",this.direct),localStorage.setItem("noOpenfaas",this.noOpenfaas),this.update=!0,console.log("default openfaasUrl: "+this.openfaasUrl),console.log("default baseUrl: "+this.url)}},created:function(){localStorage.getItem("url")&&(this.url=localStorage.getItem("url")),localStorage.getItem("openfaasUrl")&&(this.openfaasUrl=localStorage.getItem("openfaasUrl")),localStorage.getItem("direct")&&(this.direct=JSON.parse(localStorage.getItem("direct"))),localStorage.getItem("noOpenfaas")&&(this.noOpenfaas=JSON.parse(localStorage.getItem("noOpenfaas"))),localStorage.getItem("darkTheme")&&(this.darkTheme=JSON.parse(localStorage.getItem("darkTheme"))),localStorage.getItem("noRedges")&&(this.noRedges=JSON.parse(localStorage.getItem("noRedges"))),localStorage.getItem("minimizeTests")&&(this.minimizeTests=JSON.parse(localStorage.getItem("minimizeTests"))),localStorage.getItem("url")&&localStorage.getItem("openfaasUrl")&&localStorage.getItem("direct")||this.setDefaults()},mounted:function(){document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),this.configureConnections(),console.log("current openfaasUrl: "+this.openfaasUrl),console.log("current baseUrl: "+this.url)}};const wt=mt()(St,[["render",j]]);var Ct=wt,Ut=n("6c02"),$t={class:"btn-container"},Rt=["disabled"],Nt=["disabled"],_t={class:"list-group"},xt=["onClick"],Pt={class:"form-check"},Mt=["value","id"],zt={class:"test-label"},Dt={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},At={class:"modal-dialog"},Et={class:"modal-content"},Jt=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title",id:"ModalLabel"},"Add a new Project")],-1),Ft={class:"modal-body"},Lt={class:"form-outline mb-4"},Ht={type:"file",webkitdirectory:"",mozdirectory:"",id:"project-input",ref:"files"},Bt={key:0,class:"btn-container"},Vt=Object(s["h"])("div",{class:"spinner-border text-primary spinner"},null,-1),Wt=[Vt],qt={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismissBtn"},Gt={class:"btn-container"},Kt={key:0,class:"spinner-border text-primary spinner",id:"spinner"};function Yt(t,e,n,o,a,i){var c=Object(s["A"])("router-link");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("div",$t,[Object(s["h"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal",id:"add-btn-Modal",disabled:a.loading}," Add a new project ",8,Rt),Object(s["h"])("button",{type:"button",class:"btn btn-danger",id:"delete-project",disabled:!i.enableDelete,onClick:e[0]||(e[0]=function(){return i.deleteProjects&&i.deleteProjects.apply(i,arguments)})}," Delete ",8,Nt)]),Object(s["h"])("div",_t,[(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.projects,(function(t){return Object(s["v"])(),Object(s["g"])("a",{key:t,class:"list-group-item list-group-item-action",onClick:function(e){return i.navigateToProject(t)}},[Object(s["h"])("div",Pt,[Object(s["I"])(Object(s["h"])("input",{class:"form-check-input",type:"checkbox",value:t,"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.markedProjects=t}),id:t,onClick:e[2]||(e[2]=Object(s["J"])((function(){return i.stopTheEvent&&i.stopTheEvent.apply(i,arguments)}),["stop"]))},null,8,Mt),[[s["E"],a.markedProjects]]),Object(s["k"])(c,{to:{name:"Project",params:{id:t}}},{default:Object(s["H"])((function(){return[Object(s["h"])("label",zt,Object(s["C"])(t),1)]})),_:2},1032,["to"])])],8,xt)})),128))]),Object(s["h"])("div",Dt,[Object(s["h"])("div",At,[Object(s["h"])("div",Et,[Jt,Object(s["h"])("div",Ft,[Object(s["h"])("form",null,[Object(s["h"])("div",Lt,[Object(s["h"])("input",Ht,null,512)]),a.uploading?(Object(s["v"])(),Object(s["g"])("div",Bt,Wt)):Object(s["f"])("",!0),a.uploading?Object(s["f"])("",!0):(Object(s["v"])(),Object(s["g"])("button",{key:1,type:"button",class:"btn btn-primary btn-block",id:"add-btn",onClick:e[3]||(e[3]=function(){return i.upload&&i.upload.apply(i,arguments)})}," Add "))]),Object(s["h"])("button",qt,null,512)])])])]),Object(s["h"])("div",Gt,[a.loading?(Object(s["v"])(),Object(s["g"])("div",Kt)):Object(s["f"])("",!0)])])}n("4de4"),n("caad"),n("2532");var Xt={name:"Home",props:["url","openfaasUrl","socket","update"],data:function(){return{projects:[],loading:!1,files:null,socketIntv:null,markedProjects:[],projectId:"",uploading:!1}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:3})}).then((function(t){return t.json()})).then((function(e){e.success?t.projects=e.projects:t.$emit("info","Could not connect to server","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))},upload:function(){var t=this;this.uploading=!0,this.loading=!0;var e=this.$refs.files.files;if(e.length<1)return this.$emit("info","Please select a directory to upload","red"),this.loading=!1,!1;for(var n=new FormData,s=0;s<e.length;s++)n.append("file"+s,e[s]);return fetch(this.url,{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){t.uploading=!1,t.$refs.dismissBtn.click(),console.log(e),e.success?(t.projectId=e.task_id,t.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:t.projectId,openfaasurl:t.openfaasUrl})}),1e3),t.socket.on(t.projectId,(function(e){var n=JSON.parse(e.data);n.success?3===n.status_code?console.log("thread is locking"):2===n.status_code?console.log("installing project"):1===n.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.loading=!1,t.$emit("info","Installation failed","red",n.error)):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$router.push({name:"Project",params:{id:t.projectId}})):(console.log("Something went wrong"),t.loading=!1,t.$emit("info","Something went wrong","red"),clearInterval(t.socketIntv))}))):(t.loading=!1,t.$emit("info",e.message,"red"))})).catch((function(){t.$refs.dismissBtn.click(),t.uploading=!1,t.loading=!1,t.$emit("info","Something went wrong","red")})),!1},deleteProjects:function(){var t=this;this.$root.setUpConfirmation("Are you sure you want to delete these projects?","Delete",(function(){return fetch(t.url,{method:"POST",body:JSON.stringify({command:10,names:t.markedProjects})}).then((function(t){return t.json()})).then((function(){t.projects=t.projects.filter((function(e){return!t.markedProjects.includes(e)})),t.markedProjects=[]})).catch((function(){t.$emit("info","Could not connect to server","red")})),!1}))},navigateToProject:function(t){this.$router.push({name:"Project",params:{id:t}})},freeSocket:function(){this.socket.off(this.projectId),this.socketIntv&&clearInterval(this.socketIntv)},stopTheEvent:function(t){t.stopPropagation()}},computed:{enableDelete:function(){return this.markedProjects.length>0}},beforeUnmount:function(){this.freeSocket()},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.freeSocket(),this.$root.updated())}};const Qt=mt()(Xt,[["render",Yt]]);var Zt=Qt,te={class:"control-btn-container"};function ee(t,e,n,o,a,i){var c=Object(s["A"])("InstallationProcess"),r=Object(s["A"])("Test");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("div",te,[Object(s["h"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"kill-btn",onClick:e[0]||(e[0]=function(){return i.killRunningTasks&&i.killRunningTasks.apply(i,arguments)})}," Kill running tasks "),Object(s["h"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"cleanup-btn",onClick:e[1]||(e[1]=function(){return i.deleteAllProjects&&i.deleteAllProjects.apply(i,arguments)})}," Delete all projects ")]),(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.projects,(function(t){return Object(s["v"])(),Object(s["e"])(c,{key:t,id:t,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,onDelete:function(e){return i.deleteProject(t)}},null,8,["id","url","openfaasUrl","socket","onDelete"])})),128)),(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.tests,(function(t){return Object(s["v"])(),Object(s["e"])(r,{key:t,test:t.info,showPath:!0,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:t.project_name,sid:t.script_name,startMinimized:n.minimizeTests,onRestart:i.restart,onDelete:function(e){return i.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","startMinimized","onRestart","onDelete"])})),128))])}n("00b4"),n("25f0"),n("33d1"),n("ea98");var ne=["id"],se={class:"test-container"},oe={class:"buttons btn-container"},ae=["disabled"],ie=["disabled"],ce=["disabled"],re=["disabled"],le={key:0,class:"img-container"},de=["src"],ue=["src"],he={key:1,class:"path"},fe=Object(s["j"])("    "),be=Object(s["h"])("i",{class:"fas fa-angle-right"},null,-1),me=Object(s["j"])("    "),pe=["title"],Oe={class:"card-header"},ge={class:"row"},je={"data-mdb-toggle":"tooltip",title:"Test id"},ve={class:"col-1","data-mdb-toggle":"tooltip",title:"Users"},ke=Object(s["h"])("i",{class:"fas fa-user-alt"},null,-1),ye={class:"col-1","data-mdb-toggle":"tooltip",title:"Spawn rate"},Ie=Object(s["h"])("i",{class:"fas fa-users"},null,-1),Te={class:"col-1","data-mdb-toggle":"tooltip",title:"Workers"},Se=Object(s["h"])("i",{class:"fas fa-hard-hat"},null,-1),we={class:"col-3","data-mdb-toggle":"tooltip",title:"Host"},Ce=Object(s["h"])("i",{class:"fas fa-globe"},null,-1),Ue={class:"col-1","data-mdb-toggle":"tooltip",title:"Time is seconds"},$e=Object(s["h"])("i",{class:"fas fa-clock"},null,-1),Re={key:0,class:"col-1 elapsed","data-mdb-toggle":"tooltip",title:"Elapsed time is seconds"},Ne=Object(s["h"])("i",{class:"fas fa-stopwatch"},null,-1),_e={class:"elapsed-text"},xe={class:"col-1"},Pe={key:0,class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"},Me={key:1,class:"fas fa-check check"},ze={key:2,class:"fas fa-times not-valid"},De=Object(s["i"])('<div class="container-fluid"><div class="row"><div class="col-1">Type</div><div class="col-2">Name</div><div class="col-1">Requests</div><div class="col-1">Fails</div><div class="col-1">Med</div><div class="col-1">Avg (ms)</div><div class="col-1">Min (ms)</div><div class="col-1">Max (ms)</div><div class="col-1">Avg size (bytes)</div><div class="col-1">RPS</div><div class="col-1">FPS</div></div></div>',1),Ae={key:0,class:"container-fluid results"},Ee={class:"col-1"},Je={class:"col-2"},Fe={class:"col-1"},Le={class:"col-1"},He={class:"col-1"},Be={class:"col-1"},Ve={class:"col-1"},We={class:"col-1"},qe={class:"col-1"},Ge={class:"col-1"},Ke={class:"col-1"},Ye={key:0,class:"card-footer"},Xe={class:"row"},Qe=Object(s["h"])("div",{class:"col-1"},null,-1),Ze={class:"col-2"},tn={class:"col-1"},en={class:"col-1"},nn={class:"col-1"},sn={class:"col-1"},on={class:"col-1"},an={class:"col-1"},cn={class:"col-1"},rn={class:"col-1"},ln={class:"col-1"};function dn(t,e,n,o,a,i){var c=Object(s["A"])("router-link");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("div",{id:n.test.id},[Object(s["h"])("div",se,[Object(s["h"])("div",oe,[Object(s["h"])("button",{type:"button",class:"btn btn-primary stop-test",onClick:e[0]||(e[0]=function(){return i.stop&&i.stop.apply(i,arguments)}),disabled:!a.running}," Stop ",8,ae),Object(s["h"])("button",{type:"button",class:"btn btn-primary restart-test",onClick:e[1]||(e[1]=function(){return i.restart&&i.restart.apply(i,arguments)}),disabled:a.running}," Restart ",8,ie),Object(s["h"])("button",{type:"button",class:"btn btn-primary download-test",onClick:e[2]||(e[2]=function(){return i.download&&i.download.apply(i,arguments)}),disabled:a.running}," Download ",8,ce),Object(s["h"])("button",{type:"button",class:"btn btn-primary show-test-results",onClick:e[3]||(e[3]=function(){return i.showResults&&i.showResults.apply(i,arguments)}),disabled:!i.showResultsComp},Object(s["C"])(a.resultsText),9,re),Object(s["h"])("button",{type:"button",class:"btn btn-danger delete-test",onClick:e[4]||(e[4]=function(){return i.deleteMe&&i.deleteMe.apply(i,arguments)})}," Delete ")]),a.showResultsBool?(Object(s["v"])(),Object(s["g"])("div",le,[Object(s["h"])("img",{class:"lin",src:a.linImageUrl},null,8,de),Object(s["h"])("img",{class:"reg",src:a.regImageUrl},null,8,ue)])):Object(s["f"])("",!0),n.showPath?(Object(s["v"])(),Object(s["g"])("div",he,[Object(s["k"])(c,{to:{name:"Project",params:{id:n.pid}}},{default:Object(s["H"])((function(){return[Object(s["j"])(Object(s["C"])(n.pid),1)]})),_:1},8,["to"]),fe,be,me,Object(s["k"])(c,{to:{name:"Script",params:{pid:n.pid,id:n.sid}}},{default:Object(s["H"])((function(){return[Object(s["j"])(Object(s["C"])(n.sid),1)]})),_:1},8,["to"])])):Object(s["f"])("",!0),Object(s["h"])("div",{class:"card","data-mdb-toggle":"tooltip",title:a.tooltipText,onDblclick:e[5]||(e[5]=function(){return i.minimize&&i.minimize.apply(i,arguments)})},[Object(s["h"])("div",Oe,[Object(s["h"])("div",ge,[Object(s["h"])("div",{class:Object(s["q"])(["col-3 test-id",{green:a.running,red:!a.valid}])},[Object(s["h"])("label",je,Object(s["C"])(n.test.id),1)],2),Object(s["h"])("div",ve,[ke,Object(s["j"])(" "+Object(s["C"])(a.info.users),1)]),Object(s["h"])("div",ye,[Ie,Object(s["j"])(" "+Object(s["C"])(a.info.spawn_rate),1)]),Object(s["h"])("div",Te,[Se,Object(s["j"])(" "+Object(s["C"])(a.info.workers),1)]),Object(s["h"])("div",we,[Ce,Object(s["j"])(" "+Object(s["C"])(a.info.host),1)]),Object(s["h"])("div",Ue,[$e,Object(s["j"])(" "+Object(s["C"])(a.info.time),1)]),a.running?(Object(s["v"])(),Object(s["g"])("div",Re,[Ne,Object(s["h"])("label",_e," "+Object(s["C"])(a.elapsed),1)])):Object(s["f"])("",!0),Object(s["h"])("div",xe,[a.running?(Object(s["v"])(),Object(s["g"])("div",Pe)):Object(s["f"])("",!0),i.showCheck?(Object(s["v"])(),Object(s["g"])("i",Me)):Object(s["f"])("",!0),i.showX?(Object(s["v"])(),Object(s["g"])("i",ze)):Object(s["f"])("",!0)])])]),Object(s["h"])("div",{class:"card-body",ref:"cardBody",style:Object(s["r"])(n.startMinimized?"display: none;":"display: block;")},[De,i.renderData?(Object(s["v"])(),Object(s["g"])("div",Ae,[(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.data.slice(0,-1),(function(t){return Object(s["v"])(),Object(s["g"])("div",{key:t,class:"row"},[Object(s["h"])("div",Ee,Object(s["C"])(t["Type"]),1),Object(s["h"])("div",Je,Object(s["C"])(t["Name"]),1),Object(s["h"])("div",Fe,Object(s["C"])(t["Request Count"]),1),Object(s["h"])("div",Le,Object(s["C"])(t["Failure Count"]),1),Object(s["h"])("div",He,Object(s["C"])(t["Median Response Time"]),1),Object(s["h"])("div",Be,Object(s["C"])(t["Average Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",Ve,Object(s["C"])(t["Min Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",We,Object(s["C"])(t["Max Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",qe,Object(s["C"])(t["Average Content Size"].toString().slice(0,8)),1),Object(s["h"])("div",Ge,Object(s["C"])(t["Requests/s"].toString().slice(0,8)),1),Object(s["h"])("div",Ke,Object(s["C"])(t["Failures/s"].toString().slice(0,8)),1)])})),128))])):Object(s["f"])("",!0)],4),i.renderData?(Object(s["v"])(),Object(s["g"])("div",Ye,[Object(s["h"])("div",Xe,[Qe,Object(s["h"])("div",Ze,Object(s["C"])(a.data.at(-1)["Name"]),1),Object(s["h"])("div",tn,Object(s["C"])(a.data.at(-1)["Request Count"]),1),Object(s["h"])("div",en,Object(s["C"])(a.data.at(-1)["Failure Count"]),1),Object(s["h"])("div",nn,Object(s["C"])(a.data.at(-1)["Median Response Time"]),1),Object(s["h"])("div",sn,Object(s["C"])(a.data.at(-1)["Average Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",on,Object(s["C"])(a.data.at(-1)["Min Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",an,Object(s["C"])(a.data.at(-1)["Max Response Time"].toString().slice(0,8)),1),Object(s["h"])("div",cn,Object(s["C"])(a.data.at(-1)["Average Content Size"].toString().slice(0,8)),1),Object(s["h"])("div",rn,Object(s["C"])(a.data.at(-1)["Requests/s"].toString().slice(0,8)),1),Object(s["h"])("div",ln,Object(s["C"])(a.data.at(-1)["Failures/s"].toString().slice(0,8)),1)])])):Object(s["f"])("",!0)],40,pe)])],8,ne)])}n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var un={name:"Test",props:["test","showPath","url","openfaasUrl","socket","pid","sid","startMinimized"],data:function(){return{info:JSON.parse(this.test.info),data:JSON.parse(this.test.data),running:!1,valid:JSON.parse(this.test.valid),socketIntv:null,elapsed:"",elapsedIntv:null,enoughData:!0,showResultsBool:!1,linImageUrl:"",regImageUrl:"",dataLoaded:!1,resultsText:"Show results",loadingImages:!1,minimized:!1,tooltipText:"Double click to minimize"}},computed:{showCheck:function(){return!this.running&&this.valid},showX:function(){return!this.running&&!this.valid},renderData:function(){return this.data.length>0},showResultsComp:function(){return this.enoughData&&!this.running&&!this.loadingImages}},methods:{minimize:function(){this.minimized?this.tooltipText="Double click to minimize":this.tooltipText="Double click to maximize",$(this.$refs.cardBody).slideToggle(),this.minimized=!this.minimized},stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:8,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.running=!1,clearInterval(t.socketIntv)):t.$root.showInfo("There was an error stopping the test","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))},restart:function(){this.$emit("restart",this.info,this.pid,this.sid)},deleteMe:function(){var t=this;this.$root.setUpConfirmation(this.test.id+": Are you sure you want to delete this test?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:9,project_name:t.pid,script_name:t.sid,id:t.test.id})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("delete"):t.$root.showInfo("There was an error deleting the test","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))}))},download:function(){fetch(this.url,{method:"POST",body:JSON.stringify({command:11,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.blob()})).then((function(t){var e=URL.createObjectURL(t);window.location.href=e}))},showResults:function(){var t=this;this.dataLoaded?(this.showResultsBool?this.resultsText="Show results":this.resultsText="Hide results",this.showResultsBool=!this.showResultsBool):(this.loadingImages=!0,fetch(this.url,{method:"POST",body:JSON.stringify({command:12,project_name:this.pid,script_name:this.sid,id:this.test.id,type:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(0==e.status_code?fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:2})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.linImageUrl=n.createObjectURL(e),fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:3})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.regImageUrl=n.createObjectURL(e),t.resultsText="Hide results",t.showResultsBool=!0,t.dataLoaded=!0}))})):2==e.status_code&&(console.log("not enof"),t.$root.showInfo("Not enough data to analyse","red"),t.showResultsBool=!1,t.enoughData=!1)),t.loadingImages=!1})).catch((function(e){t.loadingImages=!1})))}},created:function(){this.minimized=this.startMinimized,this.minimized&&(this.tooltipText="Double click to maximize")},beforeUnmount:function(){this.socket.off(this.test.id),this.socketIntv&&clearInterval(this.socketIntv),this.elapsedIntv&&clearInterval(this.elapsedIntv)},mounted:function(){var t=this;this.running=1===JSON.parse(this.test.status),this.running&&(this.elapsed=parseInt(Date.now()/1e3-this.info.started_at),this.elapsedIntv=setInterval((function(){t.elapsed=parseInt(Date.now()/1e3-t.info.started_at)}),1e3),this.socketIntv=setInterval((function(){t.socket.emit("stats",{project_name:t.pid,script_name:t.sid,id:t.test.id,openfaasurl:t.openfaasUrl})}),2e3),this.socket.on(this.test.id,(function(e){var n=JSON.parse(e.data);if(n.success){if(0==n.status)return clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),void(t.running=!1);t.data=JSON.parse(n.data)}else 4==n.exit_code&&(t.$root.showInfo(t.test.id+" There was an error running your locust file","red"),clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),t.running=!1,t.valid=!1)})))}};const hn=mt()(un,[["render",dn]]);var fn=hn,bn=["id"],mn={class:"card-body"},pn={class:"row"},On={class:"col-10 project_name","data-mdb-toggle":"tooltip",title:"Project name"},gn=Object(s["h"])("div",{class:"col-1"},[Object(s["h"])("div",{class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"})],-1),jn={class:"col-1","data-mdb-toggle":"tooltip",title:"Cancel"};function vn(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("div",{class:"card project-card",id:n.id},[Object(s["h"])("div",mn,[Object(s["h"])("div",pn,[Object(s["h"])("div",On,Object(s["C"])(n.id),1),gn,Object(s["h"])("div",jn,[Object(s["h"])("i",{class:"fas fa-times stop-install-project",onClick:e[0]||(e[0]=function(){return i.stop&&i.stop.apply(i,arguments)})})])])])],8,bn)}var kn={name:"InstallationProcess",props:["id","url","openfaasUrl","socket"],data:function(){return{socketIntv:null}},methods:{stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:15,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.$root.showInfo(t.id+": installation canceled successfully","green"),t.$emit("delete")):t.$root.showInfo("There was an error canceling the installation","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))}},beforeUnmount:function(){this.socketIntv&&clearInterval(this.socketIntv)},mounted:function(){var t=this;this.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:t.id,openfaasurl:t.openfaasUrl})}),1e3),this.socket.on(this.id,(function(e){var n=JSON.parse(e.data);n.success?3===n.status_code?console.log("thread is locking"):2===n.status_code?console.log("installing project"):1===n.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.$root.showInfo("Installation failed","red",n.error),t.$emit("delete")):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$emit("delete"),t.$root.showInfo("Installation successs","green")):(console.log("Something went wrong"),t.$root.showInfo("Something went wrong","red"),clearInterval(t.socketIntv))}))}};const yn=mt()(kn,[["render",vn]]);var In=yn,Tn={name:"Control",components:{Test:fn,InstallationProcess:In},props:["url","openfaasUrl","socket","minimizeTests","update"],data:function(){return{tests:[],projects:[]}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:13})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests)})).catch((function(){t.$emit("info","Could not connect to server","red")})),fetch(this.url,{method:"POST",body:JSON.stringify({command:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.projects=e.projects,console.log(e.projects),console.log(t.projects))})).catch((function(){t.$emit("info","Could not connect to server","red")}))},killRunningTasks:function(){var t=this;this.$root.setUpConfirmation("Kill all running tasks? Istallation tasks will also be killed","Kill",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:911})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("info","Success","green"):t.$emit("info","There was an error killing running tasks","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))}))},deleteAllProjects:function(){var t=this;this.$root.setUpConfirmation("Delete all projects?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:912})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("info","Success","green"):t.$emit("info","There was an error deleting projects","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))}))},restart:function(t,e,n){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time,e,n)},start:function(t,e,n,s,o,a,i){var c=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:a,script_name:i,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(o)})}).then((function(t){return t.json()})).then((function(r){if(r.success){var l=r.id,d=r.started_at,u=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:o,started_at:d}),h=1,f=!0,b={id:l,info:u,status:h,valid:f,data:JSON.stringify([])},m={id:l,info:b,project_name:a,script_name:i};console.log(m),c.tests.push(m)}})).catch((function(){c.$emit("info","Could not connect to server","red")}))},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))},deleteProject:function(t){this.projects=this.projects.filter((function(e){return e!==t}))}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const Sn=mt()(Tn,[["render",ee]]);var wn=Sn,Cn={class:"card license"},Un=Object(s["h"])("div",{class:"card-body"},[Object(s["h"])("h5",{class:"card-title"},"MIT License"),Object(s["h"])("p",{class:"card-text"},[Object(s["j"])(" Copyright (c) 2021 Jad K. Haddad"),Object(s["h"])("br"),Object(s["h"])("br"),Object(s["j"])(' Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'),Object(s["h"])("br"),Object(s["h"])("br"),Object(s["j"])(" The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."),Object(s["h"])("br"),Object(s["h"])("br"),Object(s["j"])(' THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ')])],-1),$n=[Un];function Rn(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("div",Cn,$n)}var Nn={name:"License"};const _n=mt()(Nn,[["render",Rn]]);var xn=_n,Pn={id:"message"},Mn={key:0,id:"initializing"},zn=Object(s["h"])("h4",null,"initializing..",-1),Dn=Object(s["h"])("div",{class:"btn-container"},[Object(s["h"])("div",{class:"spinner-border text-primary spinner"})],-1),An=[zn,Dn];function En(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("h1",Pn,Object(s["C"])(a.message),1),a.loading?(Object(s["v"])(),Object(s["g"])("div",Mn,An)):Object(s["f"])("",!0)])}var Jn={name:"Openfaas",props:["socket"],data:function(){return{message:"hi",loading:!1}},mounted:function(){var t=this;fetch("/openfaas",{method:"POST"}).then((function(t){return t.json()})).then((function(e){console.log(e),t.message=e.message;var n=JSON.parse(e.check);n&&(t.log=!0,t.socket.emit("openfaas"),t.socket.on("openfaas",(function(e){console.log(e);var n=JSON.parse(e.data);1==n&&(t.message="function installed",t.loading=!1)})))})).catch((function(){}))},beforeUnmount:function(){this.socket.off("openfaas")}};const Fn=mt()(Jn,[["render",En]]);var Ln=Fn,Hn={class:"list-group"},Bn=["id","onClick"],Vn={class:"test-label"};function Wn(t,e,n,o,a,i){var c=Object(s["A"])("router-link");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("h3",null,Object(s["C"])(a.id),1),Object(s["h"])("div",Hn,[(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.scripts,(function(t){return Object(s["v"])(),Object(s["g"])("a",{key:t,id:t,onClick:function(e){return i.navigateToScript(t)},class:"list-group-item list-group-item-action"},[Object(s["k"])(c,{to:{name:"Script",params:{pid:a.id,id:t}}},{default:Object(s["H"])((function(){return[Object(s["h"])("label",Vn,Object(s["C"])(t),1)]})),_:2},1032,["to"])],8,Bn)})),128))])])}var qn={name:"Project",props:["url","openfaasUrl","socket","update"],data:function(){return{id:this.$route.params.id,scripts:[]}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:4,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.scripts=e.locust_scripts)})).catch((function(){t.$emit("info","Could not connect to server","red")}))},navigateToScript:function(t){this.$router.push({name:"Script",params:{pid:this.id,id:t}})}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const Gn=mt()(qn,[["render",Wn]]);var Kn=Gn,Yn={class:"btn-container"},Xn=Object(s["h"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal"}," Start ",-1),Qn={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},Zn={class:"modal-dialog"},ts={class:"modal-content"},es=Object(s["h"])("div",{class:"modal-header"},[Object(s["h"])("h5",{class:"modal-title",id:"ModalLabel"},"Start")],-1),ns={class:"modal-body"},ss={class:"form-outline mb-4"},os=Object(s["h"])("label",{class:"form-label",for:"users-input"},"Users",-1),as={class:"form-outline mb-4"},is=Object(s["h"])("label",{class:"form-label",for:"spawn-rate-input"},"Spawn rate",-1),cs={class:"form-outline mb-4"},rs=Object(s["h"])("label",{class:"form-label",for:"workers-input"},"Workers",-1),ls=Object(s["h"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," This will overwrite all hosts in your file ",-1),ds={class:"form-outline mb-4"},us=Object(s["h"])("label",{class:"form-label",for:"host-input"},"Host",-1),hs=Object(s["h"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," If time is not set, the test will not stop automatically ",-1),fs={class:"form-outline mb-4"},bs=Object(s["h"])("label",{class:"form-label",for:"time-input"},"Time in seconds",-1),ms={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismiss"};function ps(t,e,n,o,a,i){var c=Object(s["A"])("Test");return Object(s["v"])(),Object(s["g"])("div",null,[Object(s["h"])("h3",null,Object(s["C"])(a.id),1),Object(s["h"])("div",Yn,[Xn,Object(s["h"])("button",{type:"button",class:"btn btn-danger",id:"delete-script-tests",onClick:e[0]||(e[0]=function(){return i.deleteAll&&i.deleteAll.apply(i,arguments)})}," Delete all ")]),(Object(s["v"])(!0),Object(s["g"])(s["a"],null,Object(s["z"])(a.tests,(function(t){return Object(s["v"])(),Object(s["e"])(c,{key:t,test:t,showPath:!1,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:a.pid,sid:a.id,startMinimized:n.minimizeTests,onRestart:i.restart,onDelete:function(e){return i.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","startMinimized","onRestart","onDelete"])})),128)),Object(s["h"])("div",Qn,[Object(s["h"])("div",Zn,[Object(s["h"])("div",ts,[es,Object(s["h"])("div",ns,[Object(s["h"])("form",null,[Object(s["h"])("div",ss,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"users-input",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.users=t})},null,512),[[s["F"],a.users]]),os]),Object(s["h"])("div",as,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"spawn-rate-input",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.spawnRate=t})},null,512),[[s["F"],a.spawnRate]]),is]),Object(s["h"])("div",cs,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"workers-input",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.workers=t})},null,512),[[s["F"],a.workers]]),rs]),ls,Object(s["h"])("div",ds,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"host-input",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.host=t})},null,512),[[s["F"],a.host]]),us]),hs,Object(s["h"])("div",fs,[Object(s["I"])(Object(s["h"])("input",{type:"text",id:"time-input",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.time=t})},null,512),[[s["F"],a.time]]),bs]),Object(s["h"])("button",{type:"button",class:"btn btn-primary btn-block",id:"start-btn",onClick:e[6]||(e[6]=function(){return i.startFromModal&&i.startFromModal.apply(i,arguments)})}," Start ")]),Object(s["h"])("button",ms,null,512)])])])])])}var Os={name:"Script",components:{Test:fn},props:["url","openfaasUrl","socket","minimizeTests","update"],data:function(){return{id:this.$route.params.id,pid:this.$route.params.pid,tests:[],users:"",spawnRate:"",workers:"",host:"",time:""}},methods:{init:function(){var t=this;this.host=localStorage.getItem("last_host"),document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),fetch(this.url,{method:"POST",body:JSON.stringify({command:7,project_name:this.pid,script_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests,console.log(t.tests[0]))})).catch((function(){t.$emit("info","Could not connect to server","red")}))},deleteAll:function(){var t=this;this.$root.setUpConfirmation(this.id+": Are you sure you want to delete all tests?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:16,project_name:t.pid,script_name:t.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.tests=[],t.$emit("info","Success","green")):t.$emit("info","There was an error deleting tests","red")})).catch((function(){this.$emit("info","Could not connect to server","red")}))}))},start:function(t,e,n,s,o){var a=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:this.pid,script_name:this.id,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(o)})}).then((function(t){return t.json()})).then((function(i){if(i.success){var c=i.id,r=i.started_at,l=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:o,started_at:r}),d=1,u=!0,h={id:c,info:l,status:d,valid:u,data:JSON.stringify([])};console.log(h),a.tests.push(h)}else a.$emit("info",i.message,"red")})).catch((function(){a.$emit("info","Could not connect to server","red")}))},startFromModal:function(){return this.host=this.host.replace("http://","").replace("https://",""),""!=this.host&&(this.host="http://"+this.host),""===this.users?(this.$emit("info","Users cant be empty","red"),!1):isInteger(this.users)?""===this.spawnRate?(this.$emit("info","Spawn rate cant be empty","red"),!1):isInteger(this.spawnRate)?""===this.workers||isInteger(this.workers)?""==this.time||isInteger(this.time)?(this.$refs.dismiss.click(),""!=this.host&&localStorage.setItem("last_host",this.host),void this.start(this.users,this.spawnRate,this.workers,this.host,this.time)):(this.$emit("info","Time must be an integer","red"),!1):(this.$emit("info","workers must be an integer","red"),!1):(this.$emit("info","Spawn rate must be an integer","red"),!1):(this.$emit("info","Users must be an integer","red"),!1)},restart:function(t){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time)},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const gs=mt()(Os,[["render",ps]]);var js=gs,vs={class:"egg"},ks=Object(s["h"])("i",{class:"fas fa-egg fa-10x",id:"egg"},null,-1),ys=[ks];function Is(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("div",vs,ys)}var Ts={mounted:function(){var t=0;$("#egg").on("mousedown",(function(){t>50||(t>42?$(this).toggleClass("fas far").toggleClass("fa-egg fa-dizzy"):t>39?$(this).toggleClass("fas far").toggleClass("fa-egg fa-angry"):t>36?$(this).toggleClass("fas far").toggleClass("fa-egg fa-frown-open"):t>33?$(this).toggleClass("fas far").toggleClass("fa-egg fa-frown"):t>29?$(this).toggleClass("fas far").toggleClass("fa-egg fa-flushed"):t>26?$(this).toggleClass("fas far").toggleClass("fa-egg fa-meh-blank"):t>23?$(this).toggleClass("fas far").toggleClass("fa-egg fa-meh"):t>20?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin-beam-sweat"):t>13?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin-beam"):t>10?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin"):t>5?$(this).toggleClass("fas far").toggleClass("fa-egg fa-smile"):$(this).toggleClass("fas far").toggleClass("fa-egg fa-smile-wink"),t+=1)})).on("mouseup",(function(){t>=50||($(this).removeClass("fa-smile-wink").removeClass("fa-smile").removeClass("fa-grin"),$(this).removeClass("fa-grin-beam").removeClass("fa-grin-beam-sweat").removeClass("fa-meh"),$(this).removeClass("fa-meh-blank").removeClass("fa-flushed").removeClass("fa-frown"),$(this).removeClass("fa-frown-open").removeClass("fa-angry").removeClass("fa-dizzy"),$(this).toggleClass("far fas"),$(this).addClass("fa-egg"))}))}};const Ss=mt()(Ts,[["render",Is]]);var ws=Ss;function Cs(t,e,n,o,a,i){return Object(s["v"])(),Object(s["g"])("h1",null,"404 | Not Found")}var Us={};const $s=mt()(Us,[["render",Cs]]);var Rs=$s,Ns=[{path:"/",name:"Home",component:Zt},{path:"/control",name:"Control",component:wn},{path:"/openfaas",name:"Openfaas",component:Ln},{path:"/license",name:"License",component:xn},{path:"/project/:id",name:"Project",component:Kn,props:!0},{path:"/project/:pid/:id",name:"Script",component:js,props:!0},{path:"/egg",name:"Egg",component:ws},{path:"/:catchAll(.*)",name:"NotFound",component:Rs}],_s=Object(Ut["a"])({history:Object(Ut["b"])("/"),routes:Ns}),xs=_s;Object(s["d"])(Ct).use(xs).mount("#app")}});
//# sourceMappingURL=app.f457526e.js.map