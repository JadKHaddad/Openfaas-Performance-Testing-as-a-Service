(function(t){function e(e){for(var s,i,a=e[0],l=e[1],r=e[2],u=0,b=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&b.push(c[i][0]),c[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var l=n[a];0!==c[l]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},c={app:0},o=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var r=0;r<a.length;r++)e(a[r]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23");function c(t,e,n,c,o,i){var a=Object(s["z"])("NavBar"),l=Object(s["z"])("router-view");return Object(s["u"])(),Object(s["f"])(s["a"],null,[Object(s["j"])(a,{runningTests:o.runningTests},null,8,["runningTests"]),Object(s["j"])(l,{url:o.url,openfaasUrl:o.openfaasUrl,socket:o.socket},null,8,["url","openfaasUrl","socket"])],64)}n("d3b7"),n("159b");var o={class:"navbar navbar-expand-lg navbar-light bg-white fixed-top"},i={class:"container-fluid"},a=Object(s["g"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(s["g"])("i",{class:"fas fa-bars"})],-1),l={class:"collapse navbar-collapse",id:"navbarTop"},r={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item active"},u=Object(s["i"])("Home"),b={class:"nav-item active"},p=Object(s["i"])("Control"),f={class:"nav-item"},O=Object(s["i"])("License"),j=Object(s["g"])("li",{class:"nav-item"},[Object(s["g"])("a",{class:"nav-link","aria-current":"page",href:"https://github.com/JadKHaddad/Openfaas-Performance-Testing-as-a-Service"},"Source")],-1),m={class:"nav-item"},g=Object(s["i"])("OpenFaaS"),h=Object(s["g"])("li",{class:"nav-item"},[Object(s["g"])("a",{class:"nav-link","aria-current":"page",id:"nav-url",href:"#","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal"},[Object(s["g"])("i",{class:"fas fa-cog",id:"gear"}),Object(s["g"])("label",{id:"url",style:{"font-weight":"bold"}})])],-1),v={class:"modal fade",id:"Url-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},y={class:"modal-content"},S={class:"modal-body"},T={class:"form-outline mb-4"},w=Object(s["g"])("label",{class:"form-label",for:"url-input"},"OpenFaaS url",-1),I={class:"form-check","data-mdb-toggle":"tooltip",title:"Can the brwoser connect to OpenFaas directly?"},R=Object(s["g"])("label",{class:"form-check-label",for:"direct-checkbox"}," Direct connection ",-1),_={class:"form-check","data-mdb-toggle":"tooltip",title:"No OpenFaaS-Server is being used"},N=Object(s["g"])("label",{class:"form-check-label",for:"no-openfaas-checkbox"}," No OpenFaaS ",-1),P={class:"form-check"},U=Object(s["g"])("label",{class:"form-check-label",for:"dark-theme-checkbox"}," Dark theme ",-1),x={class:"form-check"},B=Object(s["g"])("label",{class:"form-check-label",for:"i-do-not-like-rounded-edges-checkbox"}," I don't like rounded edges ",-1),A={class:"form-check","data-mdb-toggle":"tooltip",title:"Tests will be minimized by default"},E=Object(s["g"])("label",{class:"form-check-label",for:"minimized"}," Minimize tests ",-1),M=Object(s["g"])("div",null,[Object(s["g"])("label",{class:"hidden",id:"url-message"},"Could not connect to openfaas")],-1),C=Object(s["h"])('<div class="modal-footer"><div class="spinner-border text-primary hidden spinner" id="url-spinner"></div><button type="button" class="btn btn-danger" id="restore-defaults-btn"> Restore defaults </button><button type="button" class="btn btn-primary" id="set-url-btn"> Ok </button></div><button type="button" class="btn btn-primary hidden" data-mdb-dismiss="modal" id="dismiss-url-modal-btn"></button>',2),D=Object(s["g"])("div",null,[Object(s["g"])("button",{type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal",id:"url-modal-button"})],-1),H={id:"server-stats"},z=Object(s["i"])(" Running tests: "),J={id:"running-tests-label"};function L(t,e,n,c,L,F){var G=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("header",null,[Object(s["g"])("nav",o,[Object(s["g"])("div",i,[a,Object(s["g"])("div",l,[Object(s["g"])("ul",r,[Object(s["g"])("li",d,[Object(s["j"])(G,{to:"/",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[u]})),_:1})]),Object(s["g"])("li",b,[Object(s["j"])(G,{to:"/control",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[p]})),_:1})]),Object(s["g"])("li",f,[Object(s["j"])(G,{to:"/license",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[O]})),_:1})]),j,Object(s["g"])("li",m,[Object(s["j"])(G,{to:"/openfaas",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[g]})),_:1})]),h])])])])]),Object(s["g"])("div",v,[Object(s["g"])("div",k,[Object(s["g"])("div",y,[Object(s["g"])("div",S,[Object(s["g"])("form",null,[Object(s["g"])("div",T,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=function(t){return L.url=t})},null,512),[[s["E"],L.url]]),w]),Object(s["g"])("div",I,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"direct-checkbox","onUpdate:modelValue":e[1]||(e[1]=function(t){return L.direct=t})},null,512),[[s["D"],L.direct]]),R]),Object(s["g"])("div",_,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"no-openfaas-checkbox","onUpdate:modelValue":e[2]||(e[2]=function(t){return L.noOpenfaas=t})},null,512),[[s["D"],L.noOpenfaas]]),N]),Object(s["g"])("div",P,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"dark-theme-checkbox","onUpdate:modelValue":e[3]||(e[3]=function(t){return L.darkTheme=t})},null,512),[[s["D"],L.darkTheme]]),U]),Object(s["g"])("div",x,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"i-do-not-like-rounded-edges-checkbox","onUpdate:modelValue":e[4]||(e[4]=function(t){return L.noRoundedEdges=t})},null,512),[[s["D"],L.noRoundedEdges]]),B]),Object(s["g"])("div",A,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"minimized","onUpdate:modelValue":e[5]||(e[5]=function(t){return L.minimizeTests=t})},null,512),[[s["D"],L.minimizeTests]]),E]),M])]),C])])]),D,Object(s["g"])("div",H,[z,Object(s["g"])("label",J,Object(s["B"])(n.runningTests),1)])],64)}var F={name:"NavBar",props:["runningTests"],data:function(){return{url:"",direct:!1,noOpenfaas:!1,darkTheme:!1,noRoundedEdges:!1,minimizeTests:!1,socket:null,socketIntv:null}},methods:{}},G=n("6b0d"),V=n.n(G);const W=V()(F,[["render",L]]);var q=W,Y={name:"App",components:{NavBar:q},data:function(){return{openfaasUrl:"None",url:"/local",runningTests:0,socket:null,socketIntv:null}},methods:{configureConnections:function(){var t=this;this.socket=io("http://192.168.178.64"),this.socketIntv=setInterval((function(){t.socket.emit("server_stats",{openfaasurl:t.openfaasUrl})}),1e3),this.socket.on("server_stats",(function(e){var n=JSON.parse(e.data);n.success?t.runningTests=n.count:(clearInterval(t.socketIntv),t.runningTests=0)}))}},mounted:function(){document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),this.configureConnections()}};const K=V()(Y,[["render",c]]);var X=K,Q=n("6c02"),Z={class:"btn-container"},tt=["disabled"],et=["disabled"],nt={class:"list-group"},st={class:"form-check"},ct=["value","id"],ot={class:"test-label"},it={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},at={class:"modal-dialog"},lt={class:"modal-content"},rt=Object(s["g"])("div",{class:"modal-header"},[Object(s["g"])("h5",{class:"modal-title",id:"ModalLabel"},"Add a new Project"),Object(s["g"])("button",{type:"button",class:"btn-close","data-mdb-dismiss":"modal","aria-label":"Close"})],-1),dt={class:"modal-body"},ut={class:"form-outline mb-4"},bt={type:"file",webkitdirectory:"",mozdirectory:"",id:"project-input",ref:"files"},pt={class:"btn-container"},ft={key:0,class:"spinner-border text-primary spinner",id:"spinner"};function Ot(t,e,n,c,o,i){var a=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",Z,[Object(s["g"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal",id:"add-btn-Modal",disabled:o.loading}," Add a new project ",8,tt),Object(s["g"])("button",{type:"button",class:"btn btn-danger",id:"delete-project",disabled:!i.enableDelete,onClick:e[0]||(e[0]=function(){return i.deleteProjects&&i.deleteProjects.apply(i,arguments)})}," Delete ",8,et)]),Object(s["g"])("div",nt,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.projects,(function(t){return Object(s["u"])(),Object(s["f"])("a",{key:t,class:"list-group-item list-group-item-action"},[Object(s["g"])("div",st,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:t,"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.markedProjects=t}),id:t},null,8,ct),[[s["D"],o.markedProjects]]),Object(s["j"])(a,{to:{name:"Project",params:{id:t}}},{default:Object(s["G"])((function(){return[Object(s["g"])("label",ot,Object(s["B"])(t),1)]})),_:2},1032,["to"])])])})),128))]),Object(s["g"])("div",it,[Object(s["g"])("div",at,[Object(s["g"])("div",lt,[rt,Object(s["g"])("div",dt,[Object(s["g"])("form",null,[Object(s["g"])("div",ut,[Object(s["g"])("input",bt,null,512)]),Object(s["g"])("button",{type:"button",class:"btn btn-primary btn-block",id:"add-btn","data-mdb-dismiss":"modal",onClick:e[2]||(e[2]=function(){return i.upload&&i.upload.apply(i,arguments)})}," Add ")])])])])]),Object(s["g"])("div",pt,[o.loading?(Object(s["u"])(),Object(s["f"])("div",ft)):Object(s["e"])("",!0)])])}n("e9c4"),n("4de4"),n("caad"),n("2532");var jt={name:"Home",props:["url","openfaasUrl","socket"],data:function(){return{projects:[],loading:!1,files:null,socketIntv:null,markedProjects:[]}},methods:{upload:function(){var t=this;this.loading=!0;var e=this.$refs.files.files;if(e.length<1)return!1;for(var n=new FormData,s=0;s<e.length;s++)n.append("file"+s,e[s]);return fetch(this.url,{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){if(console.log(e),e.success){var n=e.task_id;t.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:n,openfaasurl:t.openfaasUrl})}),1e3),t.socket.on(n,(function(e){var s=JSON.parse(e.data);s.success?3===s.status_code?console.log("thread is locking"):2===s.status_code?console.log("installing project"):1===s.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.loading=!1):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$router.push({name:"Project",params:{id:n}})):(console.log("Something went wrong"),t.loading=!1,clearInterval(t.socketIntv))}))}else t.loading=!1})).catch((function(e){t.loading=!1})),!1},deleteProjects:function(){var t=this;return fetch(this.url,{method:"POST",body:JSON.stringify({command:10,names:this.markedProjects})}).then((function(t){return t.json()})).then((function(){t.projects=t.projects.filter((function(e){return!t.markedProjects.includes(e)})),t.markedProjects=[]})).catch((function(){})),!1}},computed:{enableDelete:function(){return this.markedProjects.length>0}},mounted:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:3})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.projects=e.projects,console.log(e))})).catch((function(){}))}};const mt=V()(jt,[["render",Ot]]);var gt=mt,ht={class:"control-btn-container"};function vt(t,e,n,c,o,i){var a=Object(s["z"])("InstallationProcess"),l=Object(s["z"])("Test");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",ht,[Object(s["g"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"kill-btn",onClick:e[0]||(e[0]=function(){return i.killRunningTasks&&i.killRunningTasks.apply(i,arguments)})}," Kill running tasks "),Object(s["g"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"cleanup-btn",onClick:e[1]||(e[1]=function(){return i.deleteAllProjects&&i.deleteAllProjects.apply(i,arguments)})}," Delete all projects ")]),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.projects,(function(t){return Object(s["u"])(),Object(s["d"])(a,{key:t,id:t,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,onDelete:function(e){return i.deleteProject(t)}},null,8,["id","url","openfaasUrl","socket","onDelete"])})),128)),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.tests,(function(t){return Object(s["u"])(),Object(s["d"])(l,{key:t,test:t.info,showPath:!0,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:t.project_name,sid:t.script_name,startMinimized:!1,onRestart:i.restart,onDelete:function(e){return i.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","onRestart","onDelete"])})),128))])}n("ac1f"),n("00b4"),n("fb6a"),n("25f0"),n("33d1"),n("ea98");var kt=["id"],yt={class:"test-container"},St={class:"buttons btn-container"},Tt=["disabled"],wt=["disabled"],It=["disabled"],Rt=["disabled"],_t={key:0,class:"img-container"},Nt=["src"],Pt=["src"],Ut={key:1,class:"path"},xt=Object(s["i"])("    "),Bt=Object(s["g"])("i",{class:"fas fa-angle-right"},null,-1),At=Object(s["i"])("    "),Et=["title"],Mt={class:"card-header"},Ct={class:"row"},Dt={"data-mdb-toggle":"tooltip",title:"Test id"},Ht={class:"col-1","data-mdb-toggle":"tooltip",title:"Users"},zt=Object(s["g"])("i",{class:"fas fa-user-alt"},null,-1),Jt={class:"col-1","data-mdb-toggle":"tooltip",title:"Spawn rate"},Lt=Object(s["g"])("i",{class:"fas fa-users"},null,-1),Ft={class:"col-1","data-mdb-toggle":"tooltip",title:"Workers"},Gt=Object(s["g"])("i",{class:"fas fa-hard-hat"},null,-1),Vt={class:"col-3","data-mdb-toggle":"tooltip",title:"Host"},$t=Object(s["g"])("i",{class:"fas fa-globe"},null,-1),Wt={class:"col-1","data-mdb-toggle":"tooltip",title:"Time is seconds"},qt=Object(s["g"])("i",{class:"fas fa-clock"},null,-1),Yt={key:0,class:"col-1 elapsed","data-mdb-toggle":"tooltip",title:"Elapsed time is seconds"},Kt=Object(s["g"])("i",{class:"fas fa-stopwatch"},null,-1),Xt={class:"elapsed-text"},Qt={class:"col-1"},Zt={key:0,class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"},te={key:1,class:"fas fa-check check"},ee={key:2,class:"fas fa-times not-valid"},ne=Object(s["h"])('<div class="container-fluid"><div class="row"><div class="col-1">Type</div><div class="col-2">Name</div><div class="col-1">Requests</div><div class="col-1">Fails</div><div class="col-1">Med</div><div class="col-1">Avg (ms)</div><div class="col-1">Min (ms)</div><div class="col-1">Max (ms)</div><div class="col-1">Avg size (bytes)</div><div class="col-1">RPS</div><div class="col-1">FPS</div></div></div>',1),se={key:0,class:"container-fluid results"},ce={class:"col-1"},oe={class:"col-2"},ie={class:"col-1"},ae={class:"col-1"},le={class:"col-1"},re={class:"col-1"},de={class:"col-1"},ue={class:"col-1"},be={class:"col-1"},pe={class:"col-1"},fe={class:"col-1"},Oe={key:0,class:"card-footer"},je={class:"row"},me=Object(s["g"])("div",{class:"col-1"},null,-1),ge={class:"col-2"},he={class:"col-1"},ve={class:"col-1"},ke={class:"col-1"},ye={class:"col-1"},Se={class:"col-1"},Te={class:"col-1"},we={class:"col-1"},Ie={class:"col-1"},Re={class:"col-1"};function _e(t,e,n,c,o,i){var a=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",{id:n.test.id},[Object(s["g"])("div",yt,[Object(s["g"])("div",St,[Object(s["g"])("button",{type:"button",class:"btn btn-primary stop-test",onClick:e[0]||(e[0]=function(){return i.stop&&i.stop.apply(i,arguments)}),disabled:!o.running}," Stop ",8,Tt),Object(s["g"])("button",{type:"button",class:"btn btn-primary restart-test",onClick:e[1]||(e[1]=function(){return i.restart&&i.restart.apply(i,arguments)}),disabled:o.running}," Restart ",8,wt),Object(s["g"])("button",{type:"button",class:"btn btn-primary download-test",onClick:e[2]||(e[2]=function(){return i.download&&i.download.apply(i,arguments)}),disabled:o.running}," Download ",8,It),Object(s["g"])("button",{type:"button",class:"btn btn-primary show-test-results",onClick:e[3]||(e[3]=function(){return i.showResults&&i.showResults.apply(i,arguments)}),disabled:!i.showResultsComp},Object(s["B"])(o.resultsText),9,Rt),Object(s["g"])("button",{type:"button",class:"btn btn-danger delete-test",onClick:e[4]||(e[4]=function(){return i.deleteMe&&i.deleteMe.apply(i,arguments)})}," Delete ")]),o.showResultsBool?(Object(s["u"])(),Object(s["f"])("div",_t,[Object(s["g"])("img",{class:"lin",src:o.linImageUrl},null,8,Nt),Object(s["g"])("img",{class:"reg",src:o.regImageUrl},null,8,Pt)])):Object(s["e"])("",!0),n.showPath?(Object(s["u"])(),Object(s["f"])("div",Ut,[Object(s["j"])(a,{to:{name:"Project",params:{id:n.pid}}},{default:Object(s["G"])((function(){return[Object(s["i"])(Object(s["B"])(n.pid),1)]})),_:1},8,["to"]),xt,Bt,At,Object(s["j"])(a,{to:{name:"Script",params:{pid:n.pid,id:n.sid}}},{default:Object(s["G"])((function(){return[Object(s["i"])(Object(s["B"])(n.sid),1)]})),_:1},8,["to"])])):Object(s["e"])("",!0),Object(s["g"])("div",{class:"card","data-mdb-toggle":"tooltip",title:o.tooltipText,onDblclick:e[5]||(e[5]=function(){return i.minimize&&i.minimize.apply(i,arguments)})},[Object(s["g"])("div",Mt,[Object(s["g"])("div",Ct,[Object(s["g"])("div",{class:Object(s["p"])(["col-3 test-id",{green:o.running,red:!o.valid}])},[Object(s["g"])("label",Dt,Object(s["B"])(n.test.id),1)],2),Object(s["g"])("div",Ht,[zt,Object(s["i"])(" "+Object(s["B"])(o.info.users),1)]),Object(s["g"])("div",Jt,[Lt,Object(s["i"])(" "+Object(s["B"])(o.info.spawn_rate),1)]),Object(s["g"])("div",Ft,[Gt,Object(s["i"])(" "+Object(s["B"])(o.info.workers),1)]),Object(s["g"])("div",Vt,[$t,Object(s["i"])(" "+Object(s["B"])(o.info.host),1)]),Object(s["g"])("div",Wt,[qt,Object(s["i"])(" "+Object(s["B"])(o.info.time),1)]),o.running?(Object(s["u"])(),Object(s["f"])("div",Yt,[Kt,Object(s["g"])("label",Xt," "+Object(s["B"])(o.elapsed),1)])):Object(s["e"])("",!0),Object(s["g"])("div",Qt,[o.running?(Object(s["u"])(),Object(s["f"])("div",Zt)):Object(s["e"])("",!0),i.showCheck?(Object(s["u"])(),Object(s["f"])("i",te)):Object(s["e"])("",!0),i.showX?(Object(s["u"])(),Object(s["f"])("i",ee)):Object(s["e"])("",!0)])])]),Object(s["g"])("div",{class:"card-body",ref:"cardBody",style:Object(s["q"])(n.startMinimized?"display: none;":"display: block;")},[ne,i.renderData?(Object(s["u"])(),Object(s["f"])("div",se,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.data.slice(0,-1),(function(t){return Object(s["u"])(),Object(s["f"])("div",{key:t,class:"row"},[Object(s["g"])("div",ce,Object(s["B"])(t["Type"]),1),Object(s["g"])("div",oe,Object(s["B"])(t["Name"]),1),Object(s["g"])("div",ie,Object(s["B"])(t["Request Count"]),1),Object(s["g"])("div",ae,Object(s["B"])(t["Failure Count"]),1),Object(s["g"])("div",le,Object(s["B"])(t["Median Response Time"]),1),Object(s["g"])("div",re,Object(s["B"])(t["Average Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",de,Object(s["B"])(t["Min Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",ue,Object(s["B"])(t["Max Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",be,Object(s["B"])(t["Average Content Size"].toString().slice(0,8)),1),Object(s["g"])("div",pe,Object(s["B"])(t["Requests/s"].toString().slice(0,8)),1),Object(s["g"])("div",fe,Object(s["B"])(t["Failures/s"].toString().slice(0,8)),1)])})),128))])):Object(s["e"])("",!0)],4),i.renderData?(Object(s["u"])(),Object(s["f"])("div",Oe,[Object(s["g"])("div",je,[me,Object(s["g"])("div",ge,Object(s["B"])(o.data.at(-1)["Name"]),1),Object(s["g"])("div",he,Object(s["B"])(o.data.at(-1)["Request Count"]),1),Object(s["g"])("div",ve,Object(s["B"])(o.data.at(-1)["Failure Count"]),1),Object(s["g"])("div",ke,Object(s["B"])(o.data.at(-1)["Median Response Time"]),1),Object(s["g"])("div",ye,Object(s["B"])(o.data.at(-1)["Average Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Se,Object(s["B"])(o.data.at(-1)["Min Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Te,Object(s["B"])(o.data.at(-1)["Max Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",we,Object(s["B"])(o.data.at(-1)["Average Content Size"].toString().slice(0,8)),1),Object(s["g"])("div",Ie,Object(s["B"])(o.data.at(-1)["Requests/s"].toString().slice(0,8)),1),Object(s["g"])("div",Re,Object(s["B"])(o.data.at(-1)["Failures/s"].toString().slice(0,8)),1)])])):Object(s["e"])("",!0)],40,Et)])],8,kt)])}n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var Ne={name:"Test",props:["test","showPath","url","openfaasUrl","socket","pid","sid","startMinimized"],data:function(){return{info:JSON.parse(this.test.info),data:JSON.parse(this.test.data),running:!1,valid:JSON.parse(this.test.valid),socketIntv:null,elapsed:"",elapsedIntv:null,enoughData:!0,showResultsBool:!1,linImageUrl:"",regImageUrl:"",dataLoaded:!1,resultsText:"Show results",loadingImages:!1,minimized:!1,tooltipText:"Double click to minimize"}},computed:{showCheck:function(){return!this.running&&this.valid},showX:function(){return!this.running&&!this.valid},renderData:function(){return this.data.length>0},showResultsComp:function(){return this.enoughData&&!this.running&&!this.loadingImages}},methods:{minimize:function(){this.minimized?this.tooltipText="Double click to minimize":this.tooltipText="Double click to maximize",$(this.$refs.cardBody).slideToggle(),this.minimized=!this.minimized},stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:8,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.running=!1,clearInterval(t.socketIntv))}))},restart:function(){this.$emit("restart",this.info,this.pid,this.sid)},deleteMe:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:9,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.json()})).then((function(e){e.success&&t.$emit("delete")})).catch((function(){}))},download:function(){fetch(this.url,{method:"POST",body:JSON.stringify({command:11,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.blob()})).then((function(t){var e=URL.createObjectURL(t);window.location.href=e}))},showResults:function(){var t=this;this.dataLoaded?(this.showResultsBool?this.resultsText="Show results":this.resultsText="Hide results",this.showResultsBool=!this.showResultsBool):(this.loadingImages=!0,fetch(this.url,{method:"POST",body:JSON.stringify({command:12,project_name:this.pid,script_name:this.sid,id:this.test.id,type:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(0==e.status_code?fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:2})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.linImageUrl=n.createObjectURL(e),fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:3})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.regImageUrl=n.createObjectURL(e),t.resultsText="Hide results",t.showResultsBool=!0,t.dataLoaded=!0}))})):2==e.status_code&&(t.showResultsBool=!1,t.enoughData=!1)),t.loadingImages=!1})).catch((function(e){t.loadingImages=!1})))}},created:function(){this.minimized=this.startMinimized},mounted:function(){var t=this;this.running=1===JSON.parse(this.test.status),this.running&&(this.elapsedIntv=setInterval((function(){t.elapsed=parseInt(Date.now()/1e3-t.info.started_at)}),1e3),this.socketIntv=setInterval((function(){t.socket.emit("stats",{project_name:t.pid,script_name:t.sid,id:t.test.id,openfaasurl:t.openfaasUrl})}),2e3),this.socket.on(this.test.id,(function(e){var n=JSON.parse(e.data);if(n.success){if(0==n.status)return clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),void(t.running=!1);t.data=JSON.parse(n.data)}else 4==n.exit_code&&(clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),t.running=!1,t.valid=!1)})))}};const Pe=V()(Ne,[["render",_e]]);var Ue=Pe,xe=["id"],Be={class:"card-body"},Ae={class:"row"},Ee={class:"col-10 project_name","data-mdb-toggle":"tooltip",title:"Project name"},Me=Object(s["g"])("div",{class:"col-1"},[Object(s["g"])("div",{class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"})],-1),Ce={class:"col-1","data-mdb-toggle":"tooltip",title:"Cancel"};function De(t,e,n,c,o,i){return Object(s["u"])(),Object(s["f"])("div",{class:"card project-card",id:n.id},[Object(s["g"])("div",Be,[Object(s["g"])("div",Ae,[Object(s["g"])("div",Ee,Object(s["B"])(n.id),1),Me,Object(s["g"])("div",Ce,[Object(s["g"])("i",{class:"fas fa-times stop-install-project",onClick:e[0]||(e[0]=function(){return i.stop&&i.stop.apply(i,arguments)})})])])])],8,xe)}var He={name:"InstallationProcess",props:["id","url","openfaasUrl","socket"],data:function(){return{socketIntv:null}},methods:{stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:15,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&t.$emit("delete")})).catch((function(){}))}},mounted:function(){var t=this;this.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:t.id,openfaasurl:t.openfaasUrl})}),1e3),this.socket.on(this.id,(function(e){var n=JSON.parse(e.data);n.success?3===n.status_code?console.log("thread is locking"):2===n.status_code?console.log("installing project"):1===n.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.$emit("delete")):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$emit("delete")):(console.log("Something went wrong"),clearInterval(t.socketIntv))}))}};const ze=V()(He,[["render",De]]);var Je=ze,Le={name:"Control",components:{Test:Ue,InstallationProcess:Je},props:["url","openfaasUrl","socket"],data:function(){return{tests:[],projects:[]}},methods:{killRunningTasks:function(){fetch(this.url,{method:"POST",body:JSON.stringify({command:911})}).then((function(t){return t.json()})).then((function(t){t.success})).catch((function(){}))},deleteAllProjects:function(){fetch(this.url,{method:"POST",body:JSON.stringify({command:912})}).then((function(t){return t.json()})).then((function(t){t.success})).catch((function(){}))},restart:function(t,e,n){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time,e,n)},start:function(t,e,n,s,c,o,i){var a=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:o,script_name:i,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(c)})}).then((function(t){return t.json()})).then((function(l){if(l.success){var r=l.id,d=l.started_at,u=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:c,started_at:d}),b=1,p=!0,f={id:r,info:u,status:b,valid:p,data:JSON.stringify([])},O={id:r,info:f,project_name:o,script_name:i};console.log(O),a.tests.push(O)}})).catch((function(){}))},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))},deleteProject:function(t){this.projects=this.projects.filter((function(e){return e!==t}))}},mounted:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:13})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests)})).catch((function(){})),fetch(this.url,{method:"POST",body:JSON.stringify({command:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.projects=e.projects,console.log(e.projects),console.log(t.projects))})).catch((function(){}))}};const Fe=V()(Le,[["render",vt]]);var Ge=Fe,Ve={class:"card license"},$e=Object(s["g"])("div",{class:"card-body"},[Object(s["g"])("h5",{class:"card-title"},"MIT License"),Object(s["g"])("p",{class:"card-text"},[Object(s["i"])(" Copyright (c) 2021 Jad K. Haddad"),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(' Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(" The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(' THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ')])],-1),We=[$e];function qe(t,e,n,c,o,i){return Object(s["u"])(),Object(s["f"])("div",Ve,We)}var Ye={name:"License"};const Ke=V()(Ye,[["render",qe]]);var Xe=Ke;function Qe(t,e,n,c,o,i){return Object(s["u"])(),Object(s["f"])("h1",null,"OpenFaas")}var Ze={name:"Openfaas"};const tn=V()(Ze,[["render",Qe]]);var en=tn,nn={class:"list-group"},sn=["id"],cn={class:"test-label"};function on(t,e,n,c,o,i){var a=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("h3",null,Object(s["B"])(o.id),1),Object(s["g"])("div",nn,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.scripts,(function(t){return Object(s["u"])(),Object(s["f"])("a",{key:t,id:t,class:"list-group-item list-group-item-action"},[Object(s["j"])(a,{to:{name:"Script",params:{pid:o.id,id:t}}},{default:Object(s["G"])((function(){return[Object(s["g"])("label",cn,Object(s["B"])(t),1)]})),_:2},1032,["to"])],8,sn)})),128))])])}var an={name:"Project",props:["url","openfaasUrl","socket"],data:function(){return{id:this.$route.params.id,scripts:[]}},mounted:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:4,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.scripts=e.locust_scripts)})).catch((function(){}))}};const ln=V()(an,[["render",on]]);var rn=ln,dn={class:"btn-container"},un=Object(s["g"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal"}," Start ",-1),bn={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},pn={class:"modal-dialog"},fn={class:"modal-content"},On=Object(s["g"])("div",{class:"modal-header"},[Object(s["g"])("h5",{class:"modal-title",id:"ModalLabel"},"Start"),Object(s["g"])("button",{type:"button",class:"btn-close","data-mdb-dismiss":"modal","aria-label":"Close"})],-1),jn={class:"modal-body"},mn={class:"form-outline mb-4"},gn=Object(s["g"])("label",{class:"form-label",for:"users-input"},"Users",-1),hn={class:"form-outline mb-4"},vn=Object(s["g"])("label",{class:"form-label",for:"spawn-rate-input"},"Spawn rate",-1),kn={class:"form-outline mb-4"},yn=Object(s["g"])("label",{class:"form-label",for:"workers-input"},"Workers",-1),Sn=Object(s["g"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," This will overwrite all hosts in your file ",-1),Tn={class:"form-outline mb-4"},wn=Object(s["g"])("label",{class:"form-label",for:"host-input"},"Host",-1),In=Object(s["g"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," If time is not set, the test will not stop automatically ",-1),Rn={class:"form-outline mb-4"},_n=Object(s["g"])("label",{class:"form-label",for:"time-input"},"Time in seconds",-1),Nn={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismiss"};function Pn(t,e,n,c,o,i){var a=Object(s["z"])("Test");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("h3",null,Object(s["B"])(o.id),1),Object(s["g"])("div",dn,[un,Object(s["g"])("button",{type:"button",class:"btn btn-danger",id:"delete-script-tests",onClick:e[0]||(e[0]=function(){return i.deleteAll&&i.deleteAll.apply(i,arguments)})}," Delete all ")]),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(o.tests,(function(t){return Object(s["u"])(),Object(s["d"])(a,{key:t,test:t,showPath:!1,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:o.pid,sid:o.id,startMinimized:!1,onRestart:i.restart,onDelete:function(e){return i.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","onRestart","onDelete"])})),128)),Object(s["g"])("div",bn,[Object(s["g"])("div",pn,[Object(s["g"])("div",fn,[On,Object(s["g"])("div",jn,[Object(s["g"])("form",null,[Object(s["g"])("div",mn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"users-input",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.users=t})},null,512),[[s["E"],o.users]]),gn]),Object(s["g"])("div",hn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"spawn-rate-input",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.spawnRate=t})},null,512),[[s["E"],o.spawnRate]]),vn]),Object(s["g"])("div",kn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"workers-input",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.workers=t})},null,512),[[s["E"],o.workers]]),yn]),Sn,Object(s["g"])("div",Tn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"host-input",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return o.host=t})},null,512),[[s["E"],o.host]]),wn]),In,Object(s["g"])("div",Rn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"time-input",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.time=t})},null,512),[[s["E"],o.time]]),_n]),Object(s["g"])("button",{type:"button",class:"btn btn-primary btn-block",id:"start-btn",onClick:e[6]||(e[6]=function(){return i.startFromModal&&i.startFromModal.apply(i,arguments)})}," Start ")]),Object(s["g"])("button",Nn,null,512)])])])])])}n("5319");var Un={name:"Script",components:{Test:Ue},props:["url","openfaasUrl","socket"],data:function(){return{id:this.$route.params.id,pid:this.$route.params.pid,tests:[],users:"",spawnRate:"",workers:"",host:"",time:""}},methods:{deleteAll:function(){var t=this;return fetch(this.url,{method:"POST",body:JSON.stringify({command:16,project_name:this.pid,script_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=[])})).catch((function(){})),!1},start:function(t,e,n,s,c){var o=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:this.pid,script_name:this.id,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(c)})}).then((function(t){return t.json()})).then((function(i){if(i.success){var a=i.id,l=i.started_at,r=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:c,started_at:l}),d=1,u=!0,b={id:a,info:r,status:d,valid:u,data:JSON.stringify([])};console.log(b),o.tests.push(b)}})).catch((function(){}))},startFromModal:function(){return this.host=this.host.replace("http://","").replace("https://",""),""!=this.host&&(this.host="http://"+this.host),""!==this.users&&(!!isInteger(this.users)&&(""!==this.spawnRate&&(!!isInteger(this.spawnRate)&&(!(""!==this.workers&&!isInteger(this.workers))&&(!(""!=this.time&&!isInteger(this.time))&&(this.$refs.dismiss.click(),""!=this.host&&localStorage.setItem("last_host",this.host),void this.start(this.users,this.spawnRate,this.workers,this.host,this.time)))))))},restart:function(t){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time)},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))}},mounted:function(){var t=this;this.host=localStorage.getItem("last_host"),document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),fetch(this.url,{method:"POST",body:JSON.stringify({command:7,project_name:this.pid,script_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests,console.log(t.tests[0]))})).catch((function(){}))}};const xn=V()(Un,[["render",Pn]]);var Bn=xn;function An(t,e,n,c,o,i){return Object(s["u"])(),Object(s["f"])("h1",null,"404 | Not Found")}var En={};const Mn=V()(En,[["render",An]]);var Cn=Mn,Dn=[{path:"/",name:"Home",component:gt},{path:"/control",name:"Control",component:Ge},{path:"/openfaas",name:"Openfaas",component:en},{path:"/license",name:"License",component:Xe},{path:"/project/:id",name:"Project",component:rn,props:!0},{path:"/project/:pid/:id",name:"Script",component:Bn,props:!0},{path:"/:catchAll(.*)",name:"NotFound",component:Cn}],Hn=Object(Q["a"])({history:Object(Q["b"])("/"),routes:Dn}),zn=Hn;Object(s["c"])(X).use(zn).mount("#app")}});
//# sourceMappingURL=app.b19c943b.js.map