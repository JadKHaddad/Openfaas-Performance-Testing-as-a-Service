(function(t){function e(e){for(var s,a,c=e[0],r=e[1],l=e[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},o={app:0},i=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=r;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),o={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Info-Modal",id:"info-modal-button",ref:"infoModalButton"},i={class:"modal fade",id:"Info-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true",ref:"infoModal"},a={class:"modal-dialog"},c={class:"modal-content"},r={class:"modal-body info-message-container"},l={key:0},d={id:"info-error"},u={type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Confirmation-Modal",id:"confirmation-modal-button",ref:"confirmationModalButton"},f={class:"modal fade",id:"Confirmation-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},b={class:"modal-dialog"},m={class:"modal-content"},g={class:"modal-body"},p=Object(s["g"])("h3",{id:"confirm-message"},null,-1),h={class:"modal-footer"};function O(t,e,n,O,j,v){var k=Object(s["z"])("NavBar"),y=Object(s["z"])("router-view");return Object(s["u"])(),Object(s["f"])("div",{class:Object(s["p"])({nr:j.noRedges})},[Object(s["j"])(k,{runningTests:j.runningTests,openfaasUrl:j.openfaasUrl,direct:j.direct,noOpenfaas:j.noOpenfaas,functionName:j.functionName,minimizeTests:j.minimizeTests,darkTheme:j.darkTheme,noRedges:j.noRedges,onDefault:v.setDefaults,onSettings:v.updateSettings},null,8,["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges","onDefault","onSettings"]),Object(s["j"])(y,{url:j.url,openfaasUrl:j.openfaasUrl,socket:j.socket,minimizeTests:j.minimizeTests,update:j.update,onInfo:v.showInfo},null,8,["url","openfaasUrl","socket","minimizeTests","update","onInfo"]),Object(s["g"])("div",null,[Object(s["g"])("button",o,null,512)]),Object(s["g"])("div",i,[Object(s["g"])("div",a,[Object(s["g"])("div",c,[Object(s["g"])("div",r,[Object(s["g"])("div",null,[Object(s["g"])("label",{id:"info-message",class:Object(s["p"])({green:"green"===j.infoColor,red:"red"===j.infoColor})},Object(s["B"])(j.infoMessage),3)]),j.infoError?(Object(s["u"])(),Object(s["f"])("div",l,[Object(s["g"])("label",d,Object(s["B"])(j.infoErrorText),1)])):Object(s["e"])("",!0)])])])],512),Object(s["g"])("div",null,[Object(s["g"])("button",u,null,512)]),Object(s["g"])("div",f,[Object(s["g"])("div",b,[Object(s["g"])("div",m,[Object(s["g"])("div",g,[p,Object(s["i"])(" "+Object(s["B"])(j.confirmMessage),1)]),Object(s["g"])("div",h,[Object(s["g"])("button",{type:"button",class:"btn btn-danger","data-mdb-dismiss":"modal",ref:"confirmBtn"},Object(s["B"])(j.confirmButtonText),513)])])])])],2)}n("d3b7"),n("159b");var j={class:"navbar navbar-expand-lg navbar-light bg-white fixed-top"},v={class:"container-fluid"},k=Object(s["g"])("button",{class:"navbar-toggler",type:"button","data-mdb-toggle":"collapse","data-mdb-target":"#navbarTop","aria-controls":"navbarTop","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(s["g"])("i",{class:"fas fa-bars"})],-1),y={class:"collapse navbar-collapse",id:"navbarTop"},I={class:"navbar-nav me-auto mb-2 mb-lg-0"},T={class:"nav-item active"},S=Object(s["i"])("Home"),w={class:"nav-item active"},C=Object(s["i"])("Control"),R={class:"nav-item"},U=Object(s["i"])("License"),N=Object(s["g"])("li",{class:"nav-item"},[Object(s["g"])("a",{class:"nav-link","aria-current":"page",href:"https://github.com/JadKHaddad/Openfaas-Performance-Testing-as-a-Service"},"Source")],-1),_={class:"nav-item"},B=Object(s["i"])("OpenFaaS"),x={class:"nav-item"},M=Object(s["g"])("i",{class:"fas fa-cog",id:"gear"},null,-1),P={id:"url",style:{"font-weight":"bold"}},z={class:"modal fade",id:"Url-Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},D={class:"modal-dialog"},E={class:"modal-content"},A={class:"modal-body"},J={class:"form-outline mb-4"},H=["disabled"],L=Object(s["g"])("label",{class:"form-label",for:"url-input"},"OpenFaaS url",-1),F={class:"form-check","data-mdb-toggle":"tooltip",title:"Can the brwoser connect to OpenFaas directly?"},G=["disabled"],V=Object(s["g"])("label",{class:"form-check-label",for:"direct-checkbox"}," Direct connection ",-1),W={class:"form-check","data-mdb-toggle":"tooltip",title:"No OpenFaaS-Server is being used"},q=Object(s["g"])("label",{class:"form-check-label",for:"no-openfaas-checkbox"}," No OpenFaaS ",-1),K={class:"form-check"},Y=Object(s["g"])("label",{class:"form-check-label",for:"dark-theme-checkbox"}," Dark theme ",-1),X={class:"form-check"},Q=Object(s["g"])("label",{class:"form-check-label",for:"i-do-not-like-rounded-edges-checkbox"}," I don't like rounded edges ",-1),Z={class:"form-check","data-mdb-toggle":"tooltip",title:"Tests will be minimized by default"},tt=Object(s["g"])("label",{class:"form-check-label",for:"minimized"}," Minimize tests ",-1),et={key:0,id:"url-message"},nt={class:"modal-footer"},st={key:0,class:"spinner-border text-primary spinner",id:"url-spinner"},ot=["disabled"],it={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-url-modal-btn",ref:"dismissBtn"},at=Object(s["g"])("div",null,[Object(s["g"])("button",{type:"button",class:"btn btn-primary hidden","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal",id:"url-modal-button"})],-1),ct={id:"server-stats"},rt=Object(s["i"])(" Running tests: "),lt={id:"running-tests-label"};function dt(t,e,n,o,i,a){var c=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("header",null,[Object(s["g"])("nav",j,[Object(s["g"])("div",v,[k,Object(s["g"])("div",y,[Object(s["g"])("ul",I,[Object(s["g"])("li",T,[Object(s["j"])(c,{to:"/",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[S]})),_:1})]),Object(s["g"])("li",w,[Object(s["j"])(c,{to:"/control",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[C]})),_:1})]),Object(s["g"])("li",R,[Object(s["j"])(c,{to:"/license",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[U]})),_:1})]),N,Object(s["g"])("li",_,[Object(s["j"])(c,{to:"/openfaas",class:"nav-link","aria-current":"page"},{default:Object(s["G"])((function(){return[B]})),_:1})]),Object(s["g"])("li",x,[Object(s["g"])("a",{onClick:e[0]||(e[0]=function(){return a.setUp&&a.setUp.apply(a,arguments)}),class:"nav-link","aria-current":"page",id:"nav-url",href:"#","data-mdb-toggle":"modal","data-mdb-target":"#Url-Modal"},[M,Object(s["g"])("label",P,Object(s["B"])(n.openfaasUrl),1)])])])])])])]),Object(s["g"])("div",z,[Object(s["g"])("div",D,[Object(s["g"])("div",E,[Object(s["g"])("div",A,[Object(s["g"])("form",null,[Object(s["g"])("div",J,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"url-input",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.tempOpenfaasUrl=t}),disabled:i.tempNoOpenfaas},null,8,H),[[s["E"],i.tempOpenfaasUrl]]),L]),Object(s["g"])("div",F,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"direct-checkbox","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.tempDirect=t}),disabled:i.tempNoOpenfaas},null,8,G),[[s["D"],i.tempDirect]]),V]),Object(s["g"])("div",W,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"no-openfaas-checkbox","onUpdate:modelValue":e[3]||(e[3]=function(t){return i.tempNoOpenfaas=t})},null,512),[[s["D"],i.tempNoOpenfaas]]),q]),Object(s["g"])("div",K,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"dark-theme-checkbox","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.tempDarkTheme=t})},null,512),[[s["D"],i.tempDarkTheme]]),Y]),Object(s["g"])("div",X,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"i-do-not-like-rounded-edges-checkbox","onUpdate:modelValue":e[5]||(e[5]=function(t){return i.tempNoRedges=t})},null,512),[[s["D"],i.tempNoRedges]]),Q]),Object(s["g"])("div",Z,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"minimized","onUpdate:modelValue":e[6]||(e[6]=function(t){return i.tempMinimizeTests=t})},null,512),[[s["D"],i.tempMinimizeTests]]),tt]),Object(s["g"])("div",null,[i.error?(Object(s["u"])(),Object(s["f"])("label",et,"Could not connect to openfaas")):Object(s["e"])("",!0)])])]),Object(s["g"])("div",nt,[i.loading?(Object(s["u"])(),Object(s["f"])("div",st)):Object(s["e"])("",!0),Object(s["g"])("button",{type:"button",class:"btn btn-danger",id:"restore-defaults-btn",onClick:e[7]||(e[7]=function(){return a.restoreDefault&&a.restoreDefault.apply(a,arguments)})}," Restore defaults "),Object(s["g"])("button",{type:"button",class:"btn btn-primary",id:"set-url-btn",onClick:e[8]||(e[8]=function(){return a.ok&&a.ok.apply(a,arguments)}),disabled:i.loading}," Ok ",8,ot)]),Object(s["g"])("button",it,null,512)])])]),at,Object(s["g"])("div",ct,[rt,Object(s["g"])("label",lt,Object(s["B"])(n.runningTests),1)])])}n("ac1f"),n("5319"),n("e9c4"),n("fb6a");var ut={name:"NavBar",props:["runningTests","openfaasUrl","direct","noOpenfaas","functionName","minimizeTests","darkTheme","noRedges"],data:function(){return{tempOpenfaasUrl:"None",tempDirect:null,tempNoOpenfaas:null,tempDarkTheme:null,tempNoRedges:null,tempMinimizeTests:null,loading:!1,error:!1}},methods:{setUp:function(){this.noOpenfaas||(this.tempOpenfaasUrl=this.openfaasUrl),this.tempDirect=this.direct,this.tempNoOpenfaas=this.noOpenfaas,this.tempDarkTheme=this.darkTheme,this.tempNoRedges=this.noRedges,this.tempMinimizeTests=this.minimizeTests,this.error=!1},restoreDefault:function(){this.$refs.dismissBtn.click(),this.$emit("default")},ok:function(){var t=this,e=function(e,n){var s={baseUrl:n,openfaasUrl:e,direct:t.tempDirect,noOpenfaas:t.tempNoOpenfaas,darkTheme:t.tempDarkTheme,noRedges:t.tempNoRedges,minimizeTests:t.tempMinimizeTests};t.loading=!1,t.error=!1,t.$refs.dismissBtn.click(),t.$emit("settings",s)};if(this.tempNoOpenfaas)e("None","/local");else{var n=this.tempOpenfaasUrl;n=n.replace("http://","").replace("https://",""),n="http://"+n,this.loading=!0,this.error=!1,fetch("/check_connection",{method:"POST",body:JSON.stringify({url:n})}).then((function(t){return t.json()})).then((function(s){if(s.success){"/"==n.slice(-1)&&(n=n.slice(0,-1));var o="".concat(n,"/function/ptas");t.tempDirect||(o="/proxy"),e(n,o)}else t.loading=!1,t.error=!0})).catch((function(){t.loading=!1,t.$root.showInfo("Could not connect to server","red")}))}}},created:function(){this.setUp()},mounted:function(){$.fn.animateRotate=function(t,e,n,s){var o=$.speed(e,n,s),i=o.step;return this.each((function(e,n){o.complete=$.proxy(o.complete,n),o.step=function(t){if($.style(n,"transform","rotate("+t+"deg)"),i)return i.apply(n,arguments)},$({deg:0}).animate({deg:t},o)}))},$("#nav-url").on("click",(function(){return $("#gear").animateRotate(180),$("*").bind("click.myEvents",(function(t){t.currentTarget==$("#Url-Modal")[0]&&($("#gear").animateRotate(-180),$("*").off(".myEvents")),t.stopPropagation()})),!1}))}},ft=n("6b0d"),bt=n.n(ft);const mt=bt()(ut,[["render",dt]]);var gt=mt,pt={name:"App",components:{NavBar:gt},data:function(){return{openfaasUrl:"None",direct:!0,noOpenfaas:!0,functionName:"ptas",darkTheme:!1,noRedges:!1,minimizeTests:!1,update:!1,url:"/local",runningTests:0,socket:null,socketIntv:null,infoMessage:"info",infoColor:"green",infoError:!0,infoErrorText:"error",confirmMessage:"confirm",confirmButtonText:"confirm"}},methods:{configureConnections:function(){var t=this;this.socket=io(""),this.socketIntv=setInterval((function(){t.socket.emit("server_stats",{openfaasurl:t.openfaasUrl})}),1e3),this.socket.on("server_stats",(function(e){var n=JSON.parse(e.data);n.success?t.runningTests=n.count:(clearInterval(t.socketIntv),t.runningTests=0)}))},showInfo:function(t,e,n){this.infoMessage=t,this.infoColor=e,null!=n&&"None"!=n?(this.infoError=!0,this.infoErrorText=n):this.infoError=!1,$(this.$refs.infoModal).hasClass("show")||$(this.$refs.infoModalButton).click()},setUpConfirmation:function(t,e,n){this.confirmMessage=t,this.confirmButtonText=e,$(this.$refs.confirmBtn).off("click").on("click",n),$(this.$refs.confirmationModalButton).click()},updateSettings:function(t){this.url=t.baseUrl,this.openfaasUrl=t.openfaasUrl,this.direct=t.direct,this.noOpenfaas=t.noOpenfaas,this.darkTheme=t.darkTheme,this.noRedges=t.noRedges,this.minimizeTests=t.minimizeTests,localStorage.setItem("url",this.url),localStorage.setItem("openfaasUrl",this.openfaasUrl),localStorage.setItem("direct",this.direct),localStorage.setItem("noOpenfaas",this.noOpenfaas),localStorage.setItem("darkTheme",this.darkTheme),localStorage.setItem("noRedges",this.noRedges),localStorage.setItem("minimizeTests",this.minimizeTests),this.update=!0,console.log("updated"),console.log(t)},updated:function(){this.update=!1},setDefaults:function(){var t=this;fetch("/defaults",{method:"POST"}).then((function(t){return t.json()})).then((function(e){e.openfaas_url?(t.noOpenfaas=!1,t.openfaasUrl=e.openfaas_url,t.url="".concat(t.openfaasUrl,"/function/ptas"),e.direct||(t.url="/proxy")):(t.openfaasUrl="None",t.url="/local",t.noOpenfaas=!0),t.direct=e.direct,localStorage.setItem("url",t.url),localStorage.setItem("openfaasUrl",t.openfaasUrl),localStorage.setItem("direct",t.direct),localStorage.setItem("noOpenfaas",t.noOpenfaas),console.log(t.openfaasUrl),console.log(t.url)})).catch((function(){}))}},created:function(){localStorage.getItem("url")&&(this.url=localStorage.getItem("url")),localStorage.getItem("openfaasUrl")&&(this.openfaasUrl=localStorage.getItem("openfaasUrl")),localStorage.getItem("direct")&&(this.direct=JSON.parse(localStorage.getItem("direct"))),localStorage.getItem("noOpenfaas")&&(this.noOpenfaas=JSON.parse(localStorage.getItem("noOpenfaas"))),localStorage.getItem("darkTheme")&&(this.darkTheme=JSON.parse(localStorage.getItem("darkTheme"))),localStorage.getItem("noRedges")&&(this.noRedges=JSON.parse(localStorage.getItem("noRedges"))),localStorage.getItem("minimizeTests")&&(this.minimizeTests=JSON.parse(localStorage.getItem("minimizeTests"))),localStorage.getItem("url")&&localStorage.getItem("openfaasUrl")&&localStorage.getItem("direct")||this.setDefaults()},mounted:function(){document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),this.configureConnections()}};const ht=bt()(pt,[["render",O]]);var Ot=ht,jt=n("6c02"),vt={class:"btn-container"},kt=["disabled"],yt=["disabled"],It={class:"list-group"},Tt={class:"form-check"},St=["value","id"],wt={class:"test-label"},Ct={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},Rt={class:"modal-dialog"},$t={class:"modal-content"},Ut=Object(s["g"])("div",{class:"modal-header"},[Object(s["g"])("h5",{class:"modal-title",id:"ModalLabel"},"Add a new Project")],-1),Nt={class:"modal-body"},_t={class:"form-outline mb-4"},Bt={type:"file",webkitdirectory:"",mozdirectory:"",id:"project-input",ref:"files"},xt={key:0,class:"btn-container"},Mt=Object(s["g"])("div",{class:"spinner-border text-primary spinner"},null,-1),Pt=[Mt],zt={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismissBtn"},Dt={class:"btn-container"},Et={key:0,class:"spinner-border text-primary spinner",id:"spinner"};function At(t,e,n,o,i,a){var c=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",vt,[Object(s["g"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal",id:"add-btn-Modal",disabled:i.loading}," Add a new project ",8,kt),Object(s["g"])("button",{type:"button",class:"btn btn-danger",id:"delete-project",disabled:!a.enableDelete,onClick:e[0]||(e[0]=function(){return a.deleteProjects&&a.deleteProjects.apply(a,arguments)})}," Delete ",8,yt)]),Object(s["g"])("div",It,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.projects,(function(t){return Object(s["u"])(),Object(s["f"])("a",{key:t,class:"list-group-item list-group-item-action"},[Object(s["g"])("div",Tt,[Object(s["H"])(Object(s["g"])("input",{class:"form-check-input",type:"checkbox",value:t,"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.markedProjects=t}),id:t},null,8,St),[[s["D"],i.markedProjects]]),Object(s["j"])(c,{to:{name:"Project",params:{id:t}}},{default:Object(s["G"])((function(){return[Object(s["g"])("label",wt,Object(s["B"])(t),1)]})),_:2},1032,["to"])])])})),128))]),Object(s["g"])("div",Ct,[Object(s["g"])("div",Rt,[Object(s["g"])("div",$t,[Ut,Object(s["g"])("div",Nt,[Object(s["g"])("form",null,[Object(s["g"])("div",_t,[Object(s["g"])("input",Bt,null,512)]),i.uploading?(Object(s["u"])(),Object(s["f"])("div",xt,Pt)):Object(s["e"])("",!0),i.uploading?Object(s["e"])("",!0):(Object(s["u"])(),Object(s["f"])("button",{key:1,type:"button",class:"btn btn-primary btn-block",id:"add-btn",onClick:e[2]||(e[2]=function(){return a.upload&&a.upload.apply(a,arguments)})}," Add "))]),Object(s["g"])("button",zt,null,512)])])])]),Object(s["g"])("div",Dt,[i.loading?(Object(s["u"])(),Object(s["f"])("div",Et)):Object(s["e"])("",!0)])])}n("4de4"),n("caad"),n("2532");var Jt={name:"Home",props:["url","openfaasUrl","socket","update"],data:function(){return{projects:[],loading:!1,files:null,socketIntv:null,markedProjects:[],projectId:"",uploading:!1}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:3})}).then((function(t){return t.json()})).then((function(e){e.success?(t.projects=e.projects,console.log(e)):t.$emit("info","Could not connect to server","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))},upload:function(){var t=this;this.uploading=!0,this.loading=!0;var e=this.$refs.files.files;if(e.length<1)return this.$emit("info","Please select a directory to upload","red"),this.loading=!1,!1;for(var n=new FormData,s=0;s<e.length;s++)n.append("file"+s,e[s]);return fetch(this.url,{method:"POST",body:n}).then((function(t){return t.json()})).then((function(e){t.uploading=!1,t.$refs.dismissBtn.click(),console.log(e),e.success?(t.projectId=e.task_id,t.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:t.projectId,openfaasurl:t.openfaasUrl})}),1e3),t.socket.on(t.projectId,(function(e){var n=JSON.parse(e.data);n.success?3===n.status_code?console.log("thread is locking"):2===n.status_code?console.log("installing project"):1===n.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.loading=!1,t.$emit("info","Installation failed","red",n.error)):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$router.push({name:"Project",params:{id:t.projectId}})):(console.log("Something went wrong"),t.loading=!1,t.$emit("info","Something went wrong","red"),clearInterval(t.socketIntv))}))):(t.loading=!1,t.$emit("info",e.message,"red"))})).catch((function(){t.$refs.dismissBtn.click(),t.uploading=!1,t.loading=!1,t.$emit("info","Something went wrong","red")})),!1},deleteProjects:function(){var t=this;this.$root.setUpConfirmation("Are you sure you want to delete these projects?","Delete",(function(){return fetch(t.url,{method:"POST",body:JSON.stringify({command:10,names:t.markedProjects})}).then((function(t){return t.json()})).then((function(){t.projects=t.projects.filter((function(e){return!t.markedProjects.includes(e)})),t.markedProjects=[]})).catch((function(){t.$emit("info","Could not connect to server","red")})),!1}))},freeSocket:function(){this.socket.off(this.projectId),this.socketIntv&&clearInterval(this.socketIntv)}},computed:{enableDelete:function(){return this.markedProjects.length>0}},beforeUnmount:function(){this.freeSocket()},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.freeSocket(),this.$root.updated())}};const Ht=bt()(Jt,[["render",At]]);var Lt=Ht,Ft={class:"control-btn-container"};function Gt(t,e,n,o,i,a){var c=Object(s["z"])("InstallationProcess"),r=Object(s["z"])("Test");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",Ft,[Object(s["g"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"kill-btn",onClick:e[0]||(e[0]=function(){return a.killRunningTasks&&a.killRunningTasks.apply(a,arguments)})}," Kill running tasks "),Object(s["g"])("button",{type:"button",class:"btn btn-danger btn-block control-btn",id:"cleanup-btn",onClick:e[1]||(e[1]=function(){return a.deleteAllProjects&&a.deleteAllProjects.apply(a,arguments)})}," Delete all projects ")]),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.projects,(function(t){return Object(s["u"])(),Object(s["d"])(c,{key:t,id:t,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,onDelete:function(e){return a.deleteProject(t)}},null,8,["id","url","openfaasUrl","socket","onDelete"])})),128)),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.tests,(function(t){return Object(s["u"])(),Object(s["d"])(r,{key:t,test:t.info,showPath:!0,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:t.project_name,sid:t.script_name,startMinimized:n.minimizeTests,onRestart:a.restart,onDelete:function(e){return a.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","startMinimized","onRestart","onDelete"])})),128))])}n("00b4"),n("25f0"),n("33d1"),n("ea98");var Vt=["id"],Wt={class:"test-container"},qt={class:"buttons btn-container"},Kt=["disabled"],Yt=["disabled"],Xt=["disabled"],Qt=["disabled"],Zt={key:0,class:"img-container"},te=["src"],ee=["src"],ne={key:1,class:"path"},se=Object(s["i"])("    "),oe=Object(s["g"])("i",{class:"fas fa-angle-right"},null,-1),ie=Object(s["i"])("    "),ae=["title"],ce={class:"card-header"},re={class:"row"},le={"data-mdb-toggle":"tooltip",title:"Test id"},de={class:"col-1","data-mdb-toggle":"tooltip",title:"Users"},ue=Object(s["g"])("i",{class:"fas fa-user-alt"},null,-1),fe={class:"col-1","data-mdb-toggle":"tooltip",title:"Spawn rate"},be=Object(s["g"])("i",{class:"fas fa-users"},null,-1),me={class:"col-1","data-mdb-toggle":"tooltip",title:"Workers"},ge=Object(s["g"])("i",{class:"fas fa-hard-hat"},null,-1),pe={class:"col-3","data-mdb-toggle":"tooltip",title:"Host"},he=Object(s["g"])("i",{class:"fas fa-globe"},null,-1),Oe={class:"col-1","data-mdb-toggle":"tooltip",title:"Time is seconds"},je=Object(s["g"])("i",{class:"fas fa-clock"},null,-1),ve={key:0,class:"col-1 elapsed","data-mdb-toggle":"tooltip",title:"Elapsed time is seconds"},ke=Object(s["g"])("i",{class:"fas fa-stopwatch"},null,-1),ye={class:"elapsed-text"},Ie={class:"col-1"},Te={key:0,class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"},Se={key:1,class:"fas fa-check check"},we={key:2,class:"fas fa-times not-valid"},Ce=Object(s["h"])('<div class="container-fluid"><div class="row"><div class="col-1">Type</div><div class="col-2">Name</div><div class="col-1">Requests</div><div class="col-1">Fails</div><div class="col-1">Med</div><div class="col-1">Avg (ms)</div><div class="col-1">Min (ms)</div><div class="col-1">Max (ms)</div><div class="col-1">Avg size (bytes)</div><div class="col-1">RPS</div><div class="col-1">FPS</div></div></div>',1),Re={key:0,class:"container-fluid results"},$e={class:"col-1"},Ue={class:"col-2"},Ne={class:"col-1"},_e={class:"col-1"},Be={class:"col-1"},xe={class:"col-1"},Me={class:"col-1"},Pe={class:"col-1"},ze={class:"col-1"},De={class:"col-1"},Ee={class:"col-1"},Ae={key:0,class:"card-footer"},Je={class:"row"},He=Object(s["g"])("div",{class:"col-1"},null,-1),Le={class:"col-2"},Fe={class:"col-1"},Ge={class:"col-1"},Ve={class:"col-1"},We={class:"col-1"},qe={class:"col-1"},Ke={class:"col-1"},Ye={class:"col-1"},Xe={class:"col-1"},Qe={class:"col-1"};function Ze(t,e,n,o,i,a){var c=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("div",{id:n.test.id},[Object(s["g"])("div",Wt,[Object(s["g"])("div",qt,[Object(s["g"])("button",{type:"button",class:"btn btn-primary stop-test",onClick:e[0]||(e[0]=function(){return a.stop&&a.stop.apply(a,arguments)}),disabled:!i.running}," Stop ",8,Kt),Object(s["g"])("button",{type:"button",class:"btn btn-primary restart-test",onClick:e[1]||(e[1]=function(){return a.restart&&a.restart.apply(a,arguments)}),disabled:i.running}," Restart ",8,Yt),Object(s["g"])("button",{type:"button",class:"btn btn-primary download-test",onClick:e[2]||(e[2]=function(){return a.download&&a.download.apply(a,arguments)}),disabled:i.running}," Download ",8,Xt),Object(s["g"])("button",{type:"button",class:"btn btn-primary show-test-results",onClick:e[3]||(e[3]=function(){return a.showResults&&a.showResults.apply(a,arguments)}),disabled:!a.showResultsComp},Object(s["B"])(i.resultsText),9,Qt),Object(s["g"])("button",{type:"button",class:"btn btn-danger delete-test",onClick:e[4]||(e[4]=function(){return a.deleteMe&&a.deleteMe.apply(a,arguments)})}," Delete ")]),i.showResultsBool?(Object(s["u"])(),Object(s["f"])("div",Zt,[Object(s["g"])("img",{class:"lin",src:i.linImageUrl},null,8,te),Object(s["g"])("img",{class:"reg",src:i.regImageUrl},null,8,ee)])):Object(s["e"])("",!0),n.showPath?(Object(s["u"])(),Object(s["f"])("div",ne,[Object(s["j"])(c,{to:{name:"Project",params:{id:n.pid}}},{default:Object(s["G"])((function(){return[Object(s["i"])(Object(s["B"])(n.pid),1)]})),_:1},8,["to"]),se,oe,ie,Object(s["j"])(c,{to:{name:"Script",params:{pid:n.pid,id:n.sid}}},{default:Object(s["G"])((function(){return[Object(s["i"])(Object(s["B"])(n.sid),1)]})),_:1},8,["to"])])):Object(s["e"])("",!0),Object(s["g"])("div",{class:"card","data-mdb-toggle":"tooltip",title:i.tooltipText,onDblclick:e[5]||(e[5]=function(){return a.minimize&&a.minimize.apply(a,arguments)})},[Object(s["g"])("div",ce,[Object(s["g"])("div",re,[Object(s["g"])("div",{class:Object(s["p"])(["col-3 test-id",{green:i.running,red:!i.valid}])},[Object(s["g"])("label",le,Object(s["B"])(n.test.id),1)],2),Object(s["g"])("div",de,[ue,Object(s["i"])(" "+Object(s["B"])(i.info.users),1)]),Object(s["g"])("div",fe,[be,Object(s["i"])(" "+Object(s["B"])(i.info.spawn_rate),1)]),Object(s["g"])("div",me,[ge,Object(s["i"])(" "+Object(s["B"])(i.info.workers),1)]),Object(s["g"])("div",pe,[he,Object(s["i"])(" "+Object(s["B"])(i.info.host),1)]),Object(s["g"])("div",Oe,[je,Object(s["i"])(" "+Object(s["B"])(i.info.time),1)]),i.running?(Object(s["u"])(),Object(s["f"])("div",ve,[ke,Object(s["g"])("label",ye," "+Object(s["B"])(i.elapsed),1)])):Object(s["e"])("",!0),Object(s["g"])("div",Ie,[i.running?(Object(s["u"])(),Object(s["f"])("div",Te)):Object(s["e"])("",!0),a.showCheck?(Object(s["u"])(),Object(s["f"])("i",Se)):Object(s["e"])("",!0),a.showX?(Object(s["u"])(),Object(s["f"])("i",we)):Object(s["e"])("",!0)])])]),Object(s["g"])("div",{class:"card-body",ref:"cardBody",style:Object(s["q"])(n.startMinimized?"display: none;":"display: block;")},[Ce,a.renderData?(Object(s["u"])(),Object(s["f"])("div",Re,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.data.slice(0,-1),(function(t){return Object(s["u"])(),Object(s["f"])("div",{key:t,class:"row"},[Object(s["g"])("div",$e,Object(s["B"])(t["Type"]),1),Object(s["g"])("div",Ue,Object(s["B"])(t["Name"]),1),Object(s["g"])("div",Ne,Object(s["B"])(t["Request Count"]),1),Object(s["g"])("div",_e,Object(s["B"])(t["Failure Count"]),1),Object(s["g"])("div",Be,Object(s["B"])(t["Median Response Time"]),1),Object(s["g"])("div",xe,Object(s["B"])(t["Average Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Me,Object(s["B"])(t["Min Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Pe,Object(s["B"])(t["Max Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",ze,Object(s["B"])(t["Average Content Size"].toString().slice(0,8)),1),Object(s["g"])("div",De,Object(s["B"])(t["Requests/s"].toString().slice(0,8)),1),Object(s["g"])("div",Ee,Object(s["B"])(t["Failures/s"].toString().slice(0,8)),1)])})),128))])):Object(s["e"])("",!0)],4),a.renderData?(Object(s["u"])(),Object(s["f"])("div",Ae,[Object(s["g"])("div",Je,[He,Object(s["g"])("div",Le,Object(s["B"])(i.data.at(-1)["Name"]),1),Object(s["g"])("div",Fe,Object(s["B"])(i.data.at(-1)["Request Count"]),1),Object(s["g"])("div",Ge,Object(s["B"])(i.data.at(-1)["Failure Count"]),1),Object(s["g"])("div",Ve,Object(s["B"])(i.data.at(-1)["Median Response Time"]),1),Object(s["g"])("div",We,Object(s["B"])(i.data.at(-1)["Average Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",qe,Object(s["B"])(i.data.at(-1)["Min Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Ke,Object(s["B"])(i.data.at(-1)["Max Response Time"].toString().slice(0,8)),1),Object(s["g"])("div",Ye,Object(s["B"])(i.data.at(-1)["Average Content Size"].toString().slice(0,8)),1),Object(s["g"])("div",Xe,Object(s["B"])(i.data.at(-1)["Requests/s"].toString().slice(0,8)),1),Object(s["g"])("div",Qe,Object(s["B"])(i.data.at(-1)["Failures/s"].toString().slice(0,8)),1)])])):Object(s["e"])("",!0)],40,ae)])],8,Vt)])}n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var tn={name:"Test",props:["test","showPath","url","openfaasUrl","socket","pid","sid","startMinimized"],data:function(){return{info:JSON.parse(this.test.info),data:JSON.parse(this.test.data),running:!1,valid:JSON.parse(this.test.valid),socketIntv:null,elapsed:"",elapsedIntv:null,enoughData:!0,showResultsBool:!1,linImageUrl:"",regImageUrl:"",dataLoaded:!1,resultsText:"Show results",loadingImages:!1,minimized:!1,tooltipText:"Double click to minimize"}},computed:{showCheck:function(){return!this.running&&this.valid},showX:function(){return!this.running&&!this.valid},renderData:function(){return this.data.length>0},showResultsComp:function(){return this.enoughData&&!this.running&&!this.loadingImages}},methods:{minimize:function(){this.minimized?this.tooltipText="Double click to minimize":this.tooltipText="Double click to maximize",$(this.$refs.cardBody).slideToggle(),this.minimized=!this.minimized},stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:8,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.running=!1,clearInterval(t.socketIntv)):t.$root.showInfo("There was an error stopping the test","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))},restart:function(){this.$emit("restart",this.info,this.pid,this.sid)},deleteMe:function(){var t=this;this.$root.setUpConfirmation(this.test.id+": Are you sure you want to delete this test?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:9,project_name:t.pid,script_name:t.sid,id:t.test.id})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("delete"):t.$root.showInfo("There was an error deleting the test","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))}))},download:function(){fetch(this.url,{method:"POST",body:JSON.stringify({command:11,project_name:this.pid,script_name:this.sid,id:this.test.id})}).then((function(t){return t.blob()})).then((function(t){var e=URL.createObjectURL(t);window.location.href=e}))},showResults:function(){var t=this;this.dataLoaded?(this.showResultsBool?this.resultsText="Show results":this.resultsText="Hide results",this.showResultsBool=!this.showResultsBool):(this.loadingImages=!0,fetch(this.url,{method:"POST",body:JSON.stringify({command:12,project_name:this.pid,script_name:this.sid,id:this.test.id,type:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(0==e.status_code?fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:2})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.linImageUrl=n.createObjectURL(e),fetch(t.url,{method:"POST",body:JSON.stringify({command:12,project_name:t.pid,script_name:t.sid,id:t.test.id,type:3})}).then((function(t){return t.blob()})).then((function(e){var n=window.URL||window.webkitURL;t.regImageUrl=n.createObjectURL(e),t.resultsText="Hide results",t.showResultsBool=!0,t.dataLoaded=!0}))})):2==e.status_code&&(console.log("not enof"),t.$root.showInfo("Not enough data to analyse","red"),t.showResultsBool=!1,t.enoughData=!1)),t.loadingImages=!1})).catch((function(e){t.loadingImages=!1})))}},created:function(){this.minimized=this.startMinimized,this.minimized&&(this.tooltipText="Double click to maximize")},beforeUnmount:function(){this.socket.off(this.test.id),this.socketIntv&&clearInterval(this.socketIntv),this.elapsedIntv&&clearInterval(this.elapsedIntv)},mounted:function(){var t=this;this.running=1===JSON.parse(this.test.status),this.running&&(this.elapsed=parseInt(Date.now()/1e3-this.info.started_at),this.elapsedIntv=setInterval((function(){t.elapsed=parseInt(Date.now()/1e3-t.info.started_at)}),1e3),this.socketIntv=setInterval((function(){t.socket.emit("stats",{project_name:t.pid,script_name:t.sid,id:t.test.id,openfaasurl:t.openfaasUrl})}),2e3),this.socket.on(this.test.id,(function(e){var n=JSON.parse(e.data);if(n.success){if(0==n.status)return clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),void(t.running=!1);t.data=JSON.parse(n.data)}else 4==n.exit_code&&(t.$root.showInfo(t.test.id+" There was an error running your locust file","red"),clearInterval(t.socketIntv),clearInterval(t.elapsedIntv),t.running=!1,t.valid=!1)})))}};const en=bt()(tn,[["render",Ze]]);var nn=en,sn=["id"],on={class:"card-body"},an={class:"row"},cn={class:"col-10 project_name","data-mdb-toggle":"tooltip",title:"Project name"},rn=Object(s["g"])("div",{class:"col-1"},[Object(s["g"])("div",{class:"spinner-border text-primary spinner","data-mdb-toggle":"tooltip",title:"Running"})],-1),ln={class:"col-1","data-mdb-toggle":"tooltip",title:"Cancel"};function dn(t,e,n,o,i,a){return Object(s["u"])(),Object(s["f"])("div",{class:"card project-card",id:n.id},[Object(s["g"])("div",on,[Object(s["g"])("div",an,[Object(s["g"])("div",cn,Object(s["B"])(n.id),1),rn,Object(s["g"])("div",ln,[Object(s["g"])("i",{class:"fas fa-times stop-install-project",onClick:e[0]||(e[0]=function(){return a.stop&&a.stop.apply(a,arguments)})})])])])],8,sn)}var un={name:"InstallationProcess",props:["id","url","openfaasUrl","socket"],data:function(){return{socketIntv:null}},methods:{stop:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:15,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.$root.showInfo(t.id+": installation canceled successfully","green"),t.$emit("delete")):t.$root.showInfo("There was an error canceling the installation","red")})).catch((function(){t.$root.showInfo("Could not connect to server","red")}))}},beforeUnmount:function(){this.socketIntv&&clearInterval(this.socketIntv)},mounted:function(){var t=this;this.socketIntv=setInterval((function(){t.socket.emit("task_stats",{project_name:t.id,openfaasurl:t.openfaasUrl})}),1e3),this.socket.on(this.id,(function(e){var n=JSON.parse(e.data);n.success?3===n.status_code?console.log("thread is locking"):2===n.status_code?console.log("installing project"):1===n.status_code?(console.log("installing failed"),clearInterval(t.socketIntv),t.$root.showInfo("Installation failed","red",n.error),t.$emit("delete")):(console.log("Task is finished"),clearInterval(t.socketIntv),t.$emit("delete"),t.$root.showInfo("Installation successs","green")):(console.log("Something went wrong"),t.$root.showInfo("Something went wrong","red"),clearInterval(t.socketIntv))}))}};const fn=bt()(un,[["render",dn]]);var bn=fn,mn={name:"Control",components:{Test:nn,InstallationProcess:bn},props:["url","openfaasUrl","socket","minimizeTests","update"],data:function(){return{tests:[],projects:[]}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:13})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests)})).catch((function(){t.$emit("info","Could not connect to server","red")})),fetch(this.url,{method:"POST",body:JSON.stringify({command:1})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.projects=e.projects,console.log(e.projects),console.log(t.projects))})).catch((function(){t.$emit("info","Could not connect to server","red")}))},killRunningTasks:function(){var t=this;this.$root.setUpConfirmation("Kill all running tasks? Istallation tasks will also be killed","Kill",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:911})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("info","Success","green"):t.$emit("info","There was an error killing running tasks","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))}))},deleteAllProjects:function(){var t=this;this.$root.setUpConfirmation("Delete all projects?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:912})}).then((function(t){return t.json()})).then((function(e){e.success?t.$emit("info","Success","green"):t.$emit("info","There was an error deleting projects","red")})).catch((function(){t.$emit("info","Could not connect to server","red")}))}))},restart:function(t,e,n){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time,e,n)},start:function(t,e,n,s,o,i,a){var c=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:i,script_name:a,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(o)})}).then((function(t){return t.json()})).then((function(r){if(r.success){var l=r.id,d=r.started_at,u=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:o,started_at:d}),f=1,b=!0,m={id:l,info:u,status:f,valid:b,data:JSON.stringify([])},g={id:l,info:m,project_name:i,script_name:a};console.log(g),c.tests.push(g)}})).catch((function(){c.$emit("info","Could not connect to server","red")}))},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))},deleteProject:function(t){this.projects=this.projects.filter((function(e){return e!==t}))}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const gn=bt()(mn,[["render",Gt]]);var pn=gn,hn={class:"card license"},On=Object(s["g"])("div",{class:"card-body"},[Object(s["g"])("h5",{class:"card-title"},"MIT License"),Object(s["g"])("p",{class:"card-text"},[Object(s["i"])(" Copyright (c) 2021 Jad K. Haddad"),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(' Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(" The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."),Object(s["g"])("br"),Object(s["g"])("br"),Object(s["i"])(' THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ')])],-1),jn=[On];function vn(t,e,n,o,i,a){return Object(s["u"])(),Object(s["f"])("div",hn,jn)}var kn={name:"License"};const yn=bt()(kn,[["render",vn]]);var In=yn,Tn={id:"message"},Sn={key:0,id:"initializing"},wn=Object(s["g"])("h4",null,"initializing..",-1),Cn=Object(s["g"])("div",{class:"btn-container"},[Object(s["g"])("div",{class:"spinner-border text-primary spinner"})],-1),Rn=[wn,Cn];function $n(t,e,n,o,i,a){return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("h1",Tn,Object(s["B"])(i.message),1),i.loading?(Object(s["u"])(),Object(s["f"])("div",Sn,Rn)):Object(s["e"])("",!0)])}var Un={name:"Openfaas",props:["socket"],data:function(){return{message:"hi",loading:!1}},mounted:function(){var t=this;fetch("/openfaas",{method:"POST"}).then((function(t){return t.json()})).then((function(e){console.log(e),t.message=e.message;var n=JSON.parse(e.check);n&&(t.log=!0,t.socket.emit("openfaas"),t.socket.on("openfaas",(function(e){console.log(e);var n=JSON.parse(e.data);1==n&&(t.message="function installed",t.loading=!1)})))})).catch((function(){}))},beforeUnmount:function(){this.socket.off("openfaas")}};const Nn=bt()(Un,[["render",$n]]);var _n=Nn,Bn={class:"list-group"},xn=["id"],Mn={class:"test-label"};function Pn(t,e,n,o,i,a){var c=Object(s["z"])("router-link");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("h3",null,Object(s["B"])(i.id),1),Object(s["g"])("div",Bn,[(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.scripts,(function(t){return Object(s["u"])(),Object(s["f"])("a",{key:t,id:t,class:"list-group-item list-group-item-action"},[Object(s["j"])(c,{to:{name:"Script",params:{pid:i.id,id:t}}},{default:Object(s["G"])((function(){return[Object(s["g"])("label",Mn,Object(s["B"])(t),1)]})),_:2},1032,["to"])],8,xn)})),128))])])}var zn={name:"Project",props:["url","openfaasUrl","socket","update"],data:function(){return{id:this.$route.params.id,scripts:[]}},methods:{init:function(){var t=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:4,project_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.scripts=e.locust_scripts)})).catch((function(){t.$emit("info","Could not connect to server","red")}))}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const Dn=bt()(zn,[["render",Pn]]);var En=Dn,An={class:"btn-container"},Jn=Object(s["g"])("button",{type:"button",class:"btn btn-primary","data-mdb-toggle":"modal","data-mdb-target":"#Modal"}," Start ",-1),Hn={class:"modal fade",id:"Modal",tabindex:"-1","aria-labelledby":"ModalLabel","aria-hidden":"true"},Ln={class:"modal-dialog"},Fn={class:"modal-content"},Gn=Object(s["g"])("div",{class:"modal-header"},[Object(s["g"])("h5",{class:"modal-title",id:"ModalLabel"},"Start"),Object(s["g"])("button",{type:"button",class:"btn-close","data-mdb-dismiss":"modal","aria-label":"Close"})],-1),Vn={class:"modal-body"},Wn={class:"form-outline mb-4"},qn=Object(s["g"])("label",{class:"form-label",for:"users-input"},"Users",-1),Kn={class:"form-outline mb-4"},Yn=Object(s["g"])("label",{class:"form-label",for:"spawn-rate-input"},"Spawn rate",-1),Xn={class:"form-outline mb-4"},Qn=Object(s["g"])("label",{class:"form-label",for:"workers-input"},"Workers",-1),Zn=Object(s["g"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," This will overwrite all hosts in your file ",-1),ts={class:"form-outline mb-4"},es=Object(s["g"])("label",{class:"form-label",for:"host-input"},"Host",-1),ns=Object(s["g"])("div",{class:"form-text",style:{"padding-bottom":"10px"}}," If time is not set, the test will not stop automatically ",-1),ss={class:"form-outline mb-4"},os=Object(s["g"])("label",{class:"form-label",for:"time-input"},"Time in seconds",-1),is={type:"button",class:"btn btn-primary hidden","data-mdb-dismiss":"modal",id:"dismiss-btn",ref:"dismiss"};function as(t,e,n,o,i,a){var c=Object(s["z"])("Test");return Object(s["u"])(),Object(s["f"])("div",null,[Object(s["g"])("h3",null,Object(s["B"])(i.id),1),Object(s["g"])("div",An,[Jn,Object(s["g"])("button",{type:"button",class:"btn btn-danger",id:"delete-script-tests",onClick:e[0]||(e[0]=function(){return a.deleteAll&&a.deleteAll.apply(a,arguments)})}," Delete all ")]),(Object(s["u"])(!0),Object(s["f"])(s["a"],null,Object(s["y"])(i.tests,(function(t){return Object(s["u"])(),Object(s["d"])(c,{key:t,test:t,showPath:!1,url:n.url,openfaasUrl:n.openfaasUrl,socket:n.socket,pid:i.pid,sid:i.id,startMinimized:n.minimizeTests,onRestart:a.restart,onDelete:function(e){return a.deleteTest(t)}},null,8,["test","url","openfaasUrl","socket","pid","sid","startMinimized","onRestart","onDelete"])})),128)),Object(s["g"])("div",Hn,[Object(s["g"])("div",Ln,[Object(s["g"])("div",Fn,[Gn,Object(s["g"])("div",Vn,[Object(s["g"])("form",null,[Object(s["g"])("div",Wn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"users-input",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.users=t})},null,512),[[s["E"],i.users]]),qn]),Object(s["g"])("div",Kn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"spawn-rate-input",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.spawnRate=t})},null,512),[[s["E"],i.spawnRate]]),Yn]),Object(s["g"])("div",Xn,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"workers-input",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=function(t){return i.workers=t})},null,512),[[s["E"],i.workers]]),Qn]),Zn,Object(s["g"])("div",ts,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"host-input",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.host=t})},null,512),[[s["E"],i.host]]),es]),ns,Object(s["g"])("div",ss,[Object(s["H"])(Object(s["g"])("input",{type:"text",id:"time-input",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=function(t){return i.time=t})},null,512),[[s["E"],i.time]]),os]),Object(s["g"])("button",{type:"button",class:"btn btn-primary btn-block",id:"start-btn",onClick:e[6]||(e[6]=function(){return a.startFromModal&&a.startFromModal.apply(a,arguments)})}," Start ")]),Object(s["g"])("button",is,null,512)])])])])])}var cs={name:"Script",components:{Test:nn},props:["url","openfaasUrl","socket","minimizeTests","update"],data:function(){return{id:this.$route.params.id,pid:this.$route.params.pid,tests:[],users:"",spawnRate:"",workers:"",host:"",time:""}},methods:{init:function(){var t=this;this.host=localStorage.getItem("last_host"),document.querySelectorAll(".form-outline").forEach((function(t){new mdb.Input(t).init()})),fetch(this.url,{method:"POST",body:JSON.stringify({command:7,project_name:this.pid,script_name:this.id})}).then((function(t){return t.json()})).then((function(e){e.success&&(t.tests=e.tests,console.log(t.tests[0]))})).catch((function(){t.$emit("info","Could not connect to server","red")}))},deleteAll:function(){var t=this;this.$root.setUpConfirmation(this.id+": Are you sure you want to delete all tests?","Delete",(function(){fetch(t.url,{method:"POST",body:JSON.stringify({command:16,project_name:t.pid,script_name:t.id})}).then((function(t){return t.json()})).then((function(e){e.success?(t.tests=[],t.$emit("info","Success","green")):t.$emit("info","There was an error deleting tests","red")})).catch((function(){this.$emit("info","Could not connect to server","red")}))}))},start:function(t,e,n,s,o){var i=this;fetch(this.url,{method:"POST",body:JSON.stringify({command:5,project_name:this.pid,script_name:this.id,users:parseInt(t),spawn_rate:parseInt(e),workers:parseInt(n),host:s,time:parseInt(o)})}).then((function(t){return t.json()})).then((function(a){if(a.success){var c=a.id,r=a.started_at,l=JSON.stringify({users:t,spawn_rate:e,host:s,workers:n,time:o,started_at:r}),d=1,u=!0,f={id:c,info:l,status:d,valid:u,data:JSON.stringify([])};console.log(f),i.tests.push(f)}})).catch((function(){i.$emit("info","Could not connect to server","red")}))},startFromModal:function(){return this.host=this.host.replace("http://","").replace("https://",""),""!=this.host&&(this.host="http://"+this.host),""===this.users?(this.$emit("info","Users cant be empty","red"),!1):isInteger(this.users)?""===this.spawnRate?(this.$emit("info","Spawn rate cant be empty","red"),!1):isInteger(this.spawnRate)?""===this.workers||isInteger(this.workers)?""==this.time||isInteger(this.time)?(this.$refs.dismiss.click(),""!=this.host&&localStorage.setItem("last_host",this.host),void this.start(this.users,this.spawnRate,this.workers,this.host,this.time)):(this.$emit("info","Time must be an integer","red"),!1):(this.$emit("info","workers must be an integer","red"),!1):(this.$emit("info","Spawn rate must be an integer","red"),!1):(this.$emit("info","Users must be an integer","red"),!1)},restart:function(t){this.start(t.users,t.spawn_rate,t.workers,t.host,t.time)},deleteTest:function(t){this.tests=this.tests.filter((function(e){return e!==t}))}},mounted:function(){this.init()},updated:function(){this.update&&(this.init(),this.$root.updated())}};const rs=bt()(cs,[["render",as]]);var ls=rs,ds={class:"egg"},us=Object(s["g"])("i",{class:"fas fa-egg fa-10x",id:"egg"},null,-1),fs=[us];function bs(t,e,n,o,i,a){return Object(s["u"])(),Object(s["f"])("div",ds,fs)}var ms={mounted:function(){var t=0;$("#egg").on("mousedown",(function(){t>50||(t>42?$(this).toggleClass("fas far").toggleClass("fa-egg fa-dizzy"):t>39?$(this).toggleClass("fas far").toggleClass("fa-egg fa-angry"):t>36?$(this).toggleClass("fas far").toggleClass("fa-egg fa-frown-open"):t>33?$(this).toggleClass("fas far").toggleClass("fa-egg fa-frown"):t>29?$(this).toggleClass("fas far").toggleClass("fa-egg fa-flushed"):t>26?$(this).toggleClass("fas far").toggleClass("fa-egg fa-meh-blank"):t>23?$(this).toggleClass("fas far").toggleClass("fa-egg fa-meh"):t>20?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin-beam-sweat"):t>13?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin-beam"):t>10?$(this).toggleClass("fas far").toggleClass("fa-egg fa-grin"):t>5?$(this).toggleClass("fas far").toggleClass("fa-egg fa-smile"):$(this).toggleClass("fas far").toggleClass("fa-egg fa-smile-wink"),t+=1)})).on("mouseup",(function(){t>=50||($(this).removeClass("fa-smile-wink").removeClass("fa-smile").removeClass("fa-grin"),$(this).removeClass("fa-grin-beam").removeClass("fa-grin-beam-sweat").removeClass("fa-meh"),$(this).removeClass("fa-meh-blank").removeClass("fa-flushed").removeClass("fa-frown"),$(this).removeClass("fa-frown-open").removeClass("fa-angry").removeClass("fa-dizzy"),$(this).toggleClass("far fas"),$(this).addClass("fa-egg"))}))}};const gs=bt()(ms,[["render",bs]]);var ps=gs;function hs(t,e,n,o,i,a){return Object(s["u"])(),Object(s["f"])("h1",null,"404 | Not Found")}var Os={};const js=bt()(Os,[["render",hs]]);var vs=js,ks=[{path:"/",name:"Home",component:Lt},{path:"/control",name:"Control",component:pn},{path:"/openfaas",name:"Openfaas",component:_n},{path:"/license",name:"License",component:In},{path:"/project/:id",name:"Project",component:En,props:!0},{path:"/project/:pid/:id",name:"Script",component:ls,props:!0},{path:"/egg",name:"Egg",component:ps},{path:"/:catchAll(.*)",name:"NotFound",component:vs}],ys=Object(jt["a"])({history:Object(jt["b"])("/"),routes:ks}),Is=ys;Object(s["c"])(Ot).use(Is).mount("#app")}});
//# sourceMappingURL=app.6efb56bf.js.map