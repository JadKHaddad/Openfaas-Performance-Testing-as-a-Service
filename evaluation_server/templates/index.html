{% include "header.html" %}

<div id="app">
   <div class="content">
      <h1> Performance Testing Service - Evaluation </h1>
      <div class="sections">
         <section class="first">
            <div class="card">
               <div class="card-body">
                  <h5 class="card-title">Bevor wir anfangen</h5>
                  <p class="card-text">
                  <div v-for="item in firstQuestions" :key="item" class="row g-3 align-items-center">
                     <div class="col">
                        <span class="form-text"> [[ item.q ]]</span>
                     </div>
                     <div class="form-outline col order-5">
                        <input type="text" :id="item.q" class="form-control" v-model="item.a"
                           :disabled="started || !ready" />
                        <label class="form-label" :for="item.q">Antwort</label>
                     </div>
                  </div>

                  </p>
                  <button type="button" class="btn btn-primary" :disabled="started || !ready"
                     @click=start>starten</button>
               </div>
            </div>
         </section>

         <section class="second">
            <div class="card">
               <div class="card-body">
                  <h5 class="card-title">Test</h5>
                  <p class="card-text">
                     <div v-if="!started" class="message">Informationen erscheinen nach dem starten.</div>
                     <div v-if="finished" class="message"><label class="url">Test beendet.</label></div>
                  <div v-if="started && loading">
                     <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Laden...</span>
                     </div>
                     <p>Bitte warten..</p>
                  </div>
                  <div v-if="started && !loading && !finished">
                     
                     <p>Username: [[ username ]]</p>
                     <p>Password: [[ password ]]</p>
                     <div class="message">
                        Informationen über die Testschritte finden Sie 
                        <a href="https://github.com/JadKHaddad/Openfaas-Performance-Testing-as-a-Service/tree/evaluation#readme" target="_blank">hier</a>
                     </div>
                     <div class="message">Um das alte System zu testen, nutzen Sie eine SSH Verbindung: <label
                           class="url">ssh [[ username ]]@[[ ip ]]</label></div>
                     <div class="message">Um das neue System zu testen, navigieren Sie auf <a :href="url" target="_blank">[[ ip ]]:[[ port ]]</a></div> 
                     <div  class="message danger">Bitte lassen Sie dieses Tab offen. Wenn Sie das Tab schließen oder
                        aktualisieren, verlieren Sie Zugriff auf beide Testsysteme.</div>
                  </div>
                  </p>
               </div>
            </div>
         </section>

         <section class="last">
            <div class="card">
               <div class="card-body">
                  <h5 class="card-title">Nach dem Test</h5>
                  <p class="card-text">
                  <div v-for="item in lastQuestions" :key="item" class="row g-3 align-items-center">
                     <div class="col">
                        <span class="form-text"> [[ item.q ]]</span>
                     </div>
                     <div class="form-outline col order-5">
                        <input type="text" :id="item.q" class="form-control" v-model="item.a"
                           :disabled="!ready || !started || finished" />
                        <label class="form-label" :for="item.q">Antwort</label>
                     </div>
                  </div>
                  </p>
                  <div v-if="finished" class="message"><label class="url">Vielen Dank für Ihre Zeit. Sie mögen jetzt die Webseite verlassen.</label>
                  </div>
                  <button type="button" class="btn btn-primary" :disabled="!ready || !started || finished"
                     @click="submit">Submit</button>
               </div>
            </div>
         </section>
      </div>
   </div>
</div>

<script type="text/javascript" src="{{ url_for('static', filename='scripts/index.js') }}"></script>
{% include "footer.html" %}